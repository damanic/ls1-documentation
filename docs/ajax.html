<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">    
<html xmlns="http://www.w3.org/1999/xhtml" class="mac">
<head>
    <title>LemonStand Version 1 - AJAX</title>
  <link rel="shortcut icon" href="../favicon.ico" />
  <link href="http://feeds.feedburner.com/lemonstand" type="application/rss+xml" rel="alternate" title="LemonStand blog" />
  <link href="http://feeds.feedburner.com/LemonstandReleaseNotes" type="application/rss+xml" rel="alternate" title="LemonStand release notes" />

  <link rel="stylesheet" type="text/css" href="../ls_css_combine/index.html@file[]=%252Fresources%252Fcss%252Fgrid.css&amp;file[]=%252Fresources%252Fcss%252Fformsframework.css&amp;file[]=%252Fresources%252Fcss%252Fscreen.css&amp;file[]=%252Fresources%252Fcss%252Fjquery.fancybox.css&amp;file[]=%252Fresources%252.css"/>

  <script type="text/javascript" src="../ls_javascript_combine/index.html@file[]=%252Fresources%252Fjs%252Fjquery-1.7.1.min.js&amp;file[]=%252Fresources%252Fjs%252Ftwitter.js&amp;file[]=%252Fresources%252Fjs%252Fjquery.noconflict.js&amp;file[]=%252Fmodules%252Fcms%252Fresources%252Fjavascript%252Ff"></script>
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic|Playfair+Display:400,400italic' rel='stylesheet' type='text/css'>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Language" content="en"/>
  <meta name="keywords" content="" />
  <meta name="description" content="" />

  <meta property="fb:app_id" content="194533163908263"/>


   
  <link type="text/css" rel="stylesheet" href="../resources/shl/styles/shCore.css" />
  <link type="text/css" rel="stylesheet" href="../resources/shl/styles/shThemeRDark.css" />  
  <script type="text/javascript" src="../ls_javascript_combine/index.html@file[]=%252Fresources%252Fjs%252Fjquery-ui-1.8.11.custom.min.js&amp;file[]=%252Fresources%252Fshl%252Fscripts%252FshCore.js&amp;file[]=%252Fresources%252Fshl%252Fscripts%252FshBrushJScript.js&amp;file[]=%252Fresources%252Fs"></script>
  
  <script type="text/javascript">
    SyntaxHighlighter.config.clipboardSwf = '/resources/shl/scripts/clipboard.swf';
    SyntaxHighlighter.all();
    SyntaxHighlighter.defaults.gutter = false;
	SyntaxHighlighter.config.strings.expandSource = "Click to expand the code block";
        
    window.addEvent('domready', function() {
      var $ = jQuery;

      $(".thumbnailWrap a").fancybox({      
         'zoomSpeedIn': 300,
         'zoomSpeedOut': 300,
         'overlayShow': true,
         'titleShow'      : 'true',
         'overlayOpacity': .6
       });
       
       jQuery(".code-tabs").tabs();
    });
  </script>  
  <link rel="stylesheet" type="text/css" href="../resources/css/syntax_highlightier.css@1.css" />
  <link rel="stylesheet" type="text/css" href="../resources/css/wiki.css@1.css" />
  
</head>
<body id="b_help" class="mac">
  <div id="wrapper">
    <div id="headerWrapper">
	  	<div style="background:#333;color:#fff;text-align:center;padding:20px 0;">
	  		<p style="color:#eaeaea">This is the documentation for LemonStand V1, which has been discontinued. You can <a href="https://lemonstand.com/v1tocloud">learn more and upgrade your store here</a>.</p>
	  	</div>
       <div id="header">
      <a href="../index.html" id="headerLogo"><img src="../resources/i/lemonstand_logo.png" alt="LemonStand" /></a>      
      	<p id="contactUs"><span data-icon="&#xe04f;" aria-hidden="true"></span> <a href="tel://1-855-332-0555"><strong>1-855-332-0555</strong></a> &nbsp;&nbsp;&nbsp;<span data-icon="&#xe03e;" aria-hidden="true"> <a href="mailto:sales@lemonstand.com"><strong>sales@lemonstand.com</strong></a>&nbsp;&nbsp;&nbsp; 
      			<span data-icon="&#xe016;" aria-hidden="true"></span> <a id="myaccont_login" href="http://v1.lemonstand.com/myaccount/"><strong>Log In</strong></a>
			</p>

      <div id="navigation">
		<ul>
		<!-- <li class="dropdown"><span>Tour &#9662;</span>
			<ul>
				<li class="first"><a href="/tour/">Take a Tour</a></li>
				<li class="last"><a href="/features/customization/">Features</a></li>
			</ul>
		</li> -->
		<!--<li><a href="/features/">Features</a></li>
		<li><a href="/gallery/">Gallery</a></li>-->
		<li><a href="http://v1.lemonstand.com/marketplace/">Marketplace</a></li>
		<!--<li><a href="/buy/">Pricing</a></li>-->
		<li class="dropdown last"><span>Resources &#9662;</span>
			<ul>              
			  <li class="first"><a href="../docs.html">Documentation</a></li>
			  <li><a href="api_function_and_class_reference/index.html">API</a></li>
			  <li id="n_forum"><a href="http://forum.lemonstand.com">Forum</a></li>
			  <li><a href="http://v1.lemonstand.com/myaccount/tickets/">Technical Support</a></li>
			  <li><a href="http://forum.lemonstandapp.com/index.php?app=tracker&showproject=2">Issue Tracker</a></li>
			  <li><a href="http://v1.lemonstand.com/release-notes/">Release Notes</a></li>
			  <!--<li><a href="/faq/">FAQ</a></li>-->
			  <li class="last"><a href="http://blog.lemonstand.com">Blog</a></li>
			</ul>
		</li>
		<li class="dropdown"><span>Partners &#9662;</span>
			<ul>
				<li class="first"><a href="../partners.html">Certified Partners</a></li>
				<li class="last"><a href="../hire-developers/index.html">Hire a Freelancer</a></li>
			</ul>
		
		</li>
        </ul>
      </div><!--/navigation-->      
      
      	    </div><!--/header-->
    </div><!-- /headerWrapper -->    
    <!-- <div id="topContentWrapper">  
      <div id="topContent">
        <div id="topCol1">
          <h1>LemonStand <span>Documentation</span></h1>
        </div>
      </div>
    </div> -->
    <div id="contentWrapper">  
      <div id="content" class="clearfix">
        <div class="wrap12">
	        <form method="get" action="http://v1.lemonstand.com/docs_search">
        <div id="wiki_search">
          <input name="query" type="text" id="wiki_search_field"/>
          <input type="submit" id="btn-doc-search" class="awesome blue large" value="Search"/>
          <div class="wiki_clear"></div>
        </div>
      </form>
    </div>
  
          <div class="col12 wiki_page_content">
        <div class="wiki_breadcrumbs"><ul class="wiki_toc"><li><a href="front_page.html">LemonStand</a></li><li><a href="developer_guide.html">Developer Guide</a></li><li><a href="lemonstand_back_end.html">LemonStand Back-End</a></li><li><a href="programming_pages.html">Programming Pages</a></li><li class="last">AJAX</li></ul></div>
        <div id="wiki-cta">
        	<h3>LemonStand Version 1 Has Been Discontinued</h1>
        	<p>This documentation is for LemonStand Version 1. LemonStand is now offered as a cloud-based eCommerce platform.<br> You can try the new LemonStand and <a href="https://lemonstand.com/v1tocloud">learn about upgrading here</a>.</p>
        </div>
        
        <h2>AJAX</h2>
        
        <p>This page continues the Programming pages article.</p>
<p>LemonStand has a simple built-in AJAX framework which allows you to send AJAX request to the server and update page elements without reloading the whole page. The AJAX request consists of 3 steps:</p>
<ol>
<li>Send an AJAX request to the server</li>
<li>Process the request on the server</li>
<li>Update the page elements</li>
</ol>
<p>Usually you will only perform the first step of the process &ndash; the sending data to the server. The tasks of processing AJAX requests and updating page elements are often solved by LemonStand automatically. This is true for most cases you may need while developing the online store website. The actions provided by LemonStand modules have handlers for AJAX requests like &ldquo;Add a product to the shopping cart&rdquo; or &ldquo;Reset user password&rdquo;. Often you will only need to issue an AJAX request and LemonStand will take care of the rest.</p>
<p>To use the LemonStand AJAX framework, some JavaScript libraries and a CSS file provided by LemonStand must be included into a page. The minimum required JavaScript and CSS files are described in the <a href="combining_and_minifying_javascript_and_css_files.html">Combining and Minifying JavaScript and CSS files</a> article. In this article we will use jQuery-based implementation of the front-end framework. With MooTools implementation you can use the same syntax in your AJAX requests.</p>
<h3>Creating an AJAX calculator</h3>
<p>For the demonstration purposes and for custom cases when you may need to handle an AJAX requests manually we have prepared a simple AJAX Calculator tutorial. The Calculator page will have two fields and a button. Values specified in the fields will be multiplied on the server and displayed on the page without reloading the page.</p>
<p>Create a new page and assign it any name and URL. Paste the following code into the page Content page.&nbsp;</p>
<div class="code-tabs" id="page_code"><ul><li><a href="ajax.html#page_code-php">PHP</a></li><li><a href="ajax.html#page_code-twig">Twig</a></li></ul><div id="page_code-php"><div class="codeblock"><pre class="brush:php; collapse: true">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
  &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
  &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
  &lt;title&gt;AJAX Calculator&lt;/title&gt;
  &lt;?= $this-&gt;js_combine(array(
  'jquery',
  'ls_core_jquery')) ?&gt;
  
  &lt;?= $this-&gt;css_combine(array('ls_styles')) ?&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?= open_form() ?&gt;
    &lt;input type=&quot;text&quot; name=&quot;value1&quot;/&gt; x &lt;input type=&quot;text&quot; name=&quot;value2&quot;/&gt;
    &lt;input type=&quot;button&quot; value=&quot;=&quot; onclick=&quot;return $(this).getForm().sendRequest(
        'calculate', 
        {update: {'update_me': 'result_partial'}})&quot;/&gt;
    &lt;span id=&quot;update_me&quot;&gt;&lt;/span&gt;
  &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt; </pre></div></div><div id="page_code-twig"><div class="codeblock"><pre class="brush:twig; collapse: true">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;
  &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
  &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
  &lt;title&gt;AJAX Calculator&lt;/title&gt;
  {{ js_combine(['jquery', 'ls_core_jquery']) }}
  {{ css_combine(['ls_styles']) }}
&lt;/head&gt;
&lt;body&gt;
  &lt;?= open_form() ?&gt;
    &lt;input type=&quot;text&quot; name=&quot;value1&quot;/&gt; x &lt;input type=&quot;text&quot; name=&quot;value2&quot;/&gt;
    &lt;input type=&quot;button&quot; value=&quot;=&quot; onclick=&quot;return $(this).getForm().sendRequest(
        'calculate', 
        {update: {'update_me': 'result_partial'}})&quot;/&gt;
    &lt;span id=&quot;update_me&quot;&gt;&lt;/span&gt;
  &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt; </pre></div></div></div><p>The form contains two fields and a button. Also it contains a SPAN element with ID="update_me". This element will be updated each time you click the button and will contain a result of the calculation performed on the server.</p>
<p>You may notice that HTML form element is open with the <strong><a href="http://v1.lemonstand.com/docs/function_open_form">open_form</a></strong> function. This function outputs the FORM tag with ACTION attribute pointing to the current page. It is simpler to use this function than write the ACTION attribute value for each form.</p>
<p>The AJAX request is issued when a visitor click the button - the onclick event handler contains a simple JavaScript code which sends an AJAX request. The following code gives us a closer look of the onclick handler.&nbsp;</p>
<div class="codeblock"><pre class="brush:javascript; collapse: false">return $(this).getForm().sendRequest(
'calculate', {
  update: {'update_me': 'result_partial'}
}) </pre></div><p>The code first finds the FORM element wrapping the button, using the <strong>getForm</strong> method of the button. This method is added by LemonStand AJAX framework to all page elements &ndash; buttons, links and so on. Then the form method <strong>sendRequest</strong> is called. The method <strong>sendRequest</strong> is added by LemonStand as well. The method sends an AJAX request to the server. The AJAX request posts the following information to the server:</p>
<ul>
<li>All information contained in the form input elements &ndash; values of the two input fields in this case.</li>
<li>A name of a function to use when handling the AJAX request. In this case &ndash; the <strong>calculate</strong> function. The function name is specified in the first parameter of the <strong>sendRequest</strong> method.</li>
<li>A list of page element Ids which you want to be updated at the end of the request. The second parameter of the <strong>sendRequest</strong> is the options object. The <strong>update</strong> element of this object can contain a list of 'element id: partial name' pairs, which informs LemonStand which partials should be used for updating corresponding page elements.</li>
</ul>
<h3>Handling AJAX requests on the server</h3>
<p>The AJAX request demonstrated in the previous code snipped refers to the <strong>calculate</strong> function. This function will be executed on the server. We need to create it. Click the <strong>AJAX</strong> tab in the page editor and insert the following code:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">function calculate($controller)
{
  $controller-&gt;data['result'] = post('value1')*post('value2');
} </pre></div><p>The screenshot demonstrates how the Page Editor should look.</p>
<p><img src="../resources/i/wiki/creating_pages_ajax_handler_example_1.png" alt="" /></p>
<p>As you can see the handler method is rather simple. It obtains values entered in the text fields and multiplies them. For accessing the POST data the <strong>post</strong> function is used. Using this function is more preferable than accessing $_POST array.</p>
<p>The result of multiplication is assigned to the controller's <strong>data</strong> field. The reference to the controller (the <a href="http://v1.lemonstand.com/docs/class_cms_controller">Cms_Controller</a> class object) is passed to the function as the first parameter. As we described in the Actions article, the <strong>data</strong> field is designed for passing values from page actions to the pages, partials and template codes.</p>
<p>Now we are ready to display the result of the value multiplication on the page.</p>
<h3>Displaying a result on the page</h3>
<p>In the page code we have created a special SPAN element with Id <strong>update_me</strong>. Also, in the options of sendRequest method we specified the update object:&nbsp;</p>
<div class="codeblock"><pre class="brush:javascript; collapse: false">update: {'update_me': 'result_partial'} </pre></div><p>This object contains IDs of page elements to be updated and names of <strong>partials</strong> to use for update the elements. You may update as many page elements as you need, with a single AJAX call. But in our case we need to update only one element &ndash; the SPAN with ID="<strong>update_me</strong>". To update it we will use a partial with the name '<strong>result_partial</strong>'.</p>
<p>Create a new partial and assign it the name <strong>result_partial</strong>. The only thing we need to do now is to output the <strong>$result</strong> variable which we created in the <strong>calculate</strong> function. The screenshot below displays the view of the Partial editor. Save the partial.</p>
<p><img src="../resources/i/wiki/creating_pages_ajax_result_partial_1.png" alt="" /></p>
<p>Now all components of the Calculator are done. You can open the page you created for the Calculator and check how it works.</p>
<p><img src="../resources/i/wiki/creating_pages_ajax_calculator_preview.png" alt="" /></p>
<p>This simple example demonstrated how the technology works. With AJAX you can perform complex updates on a page. For example you can update the cart content without reloading the page. Details about available AJAX event handlers provided by the Shop module are explained in the section <strong>Creating Shop Pages</strong>.</p>
<h4>See also:</h4>
<ul>
<li><a href="lemonstand_front_end_javascript_framework.html">LemonStand front-end JavaScript framework</a></li>
<li><a href="http://v1.lemonstand.com/docs/class_cms_controller">Cms_Controller class</a></li>
<li><a href="http://v1.lemonstand.com/docs/class_cms_page">Cms_Page class</a></li>
</ul>
        
        <p><br/>Previous: <a href="actions.html">Actions</a><br/>Return to <a href="programming_pages.html">Programming Pages</a></p>
        
              </div>
      
            <div class="wrap12 commentsWrap">
		<div id="thread"></div>
		<div id="disqus_thread"></div>
		<script type="text/javascript">
		var disqus_identifier = "wiki_page_68"; //[Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread]
		var disqus_url = "http://v1.lemonstand.com/docs/ajax/";
		var disqus_title = "AJAX";
		(function() {
		 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		 dsq.src = 'http://lemonstand.disqus.com/embed.js';
		 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=lemonstand">comments powered by Disqus.</a></noscript>

      </div><!--/commentsWrap-->
              
          </div><!--/content-->
    </div><!-- /contentWrapper -->
</div><!--/wrapper-->
<div id="footer">
  <div id="footerContent">
    <div class="wrap12">
	    <div class="col4">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">Learn About The New LemonStand Cloud</span></li><li id="" class="level1"><a href="https://lemonstand.com" title="More information" class="title">More information</a></li><li id="" class="level1"><a href="https://lemonstand.com/showcase" title="LemonStand Showcase" class="title">LemonStand Showcase</a></li><li id="" class="level1"><a href="https://lemonstand.com/features" title="LS Cloud Features" class="title">LS Cloud Features</a></li><li id="" class="level1"><a href="https://lemonstand.com/pricing" title="LS Cloud Pricing" class="title">LS Cloud Pricing</a></li><li id="" class="level1"><a href="https://lemonstand.com/signup" title="LS Cloud Free Trial" class="title">LS Cloud Free Trial</a></li><li id="" class="level1"><a href="http://blog.lemonstand.com" title="eCommerce Blog" class="title">eCommerce Blog</a></li>			</ul>
	    </div>
	    <!--<div class="col2">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">About V1</span></li><li id="" class="level1"><a href="/gallery-oldurl" title="V1 Customer Gallery" class="title">V1 Customer Gallery</a></li><li id="" class="level1"><a href="/buy" title="Buy V1 License" class="title">Buy V1 License</a></li><li id="" class="level1"><a href="/freetrial" title="V1 Trial License" class="title">V1 Trial License</a></li>			</ul>
	    </div>-->
	    <div class="col2">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">V1 Community</span></li><li id="" class="level1"><a href="http://v1.lemonstand.com/marketplace" title="Marketplace" class="title">Marketplace</a><ul><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/category/modules/" title="V1 Modules" class="title">V1 Modules</a></li><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/category/themes/" title="V1 Themes" class="title">V1 Themes</a></li><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/ideas/all/" title="V1 Ideas" class="title">V1 Ideas</a></li></ul></li><li id="" class="level1"><a href="../partners.html" title="Partners" class="title">Partners</a></li><li id="" class="level1"><a href="http://forum.lemonstandapp.com/" title="Community Forums" class="title">Community Forums</a></li>			</ul>
	    </div>
	    <div class="col3">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">V1 Support</span></li><li id="" class="level1"><a href="../myaccount.html" title="My Account" class="title">My Account</a><ul><li id="" class="level2"><a href="http://v1.lemonstand.com/myaccount/tickets" title="V1 Support Tickets" class="title">V1 Support Tickets</a></li></ul></li><li id="" class="level1"><a href="../docs.html" title="Documentation" class="title">Documentation</a><ul><li id="" class="level2"><a href="ecommerce_guide.html" title="V1 Merchant's Guide" class="title">V1 Merchant's Guide</a></li><li id="" class="level2"><a href="developer_s_guide/index.html" title="V1 Developer's Guide" class="title">V1 Developer's Guide</a></li><li id="" class="level2"><a href="../api.html" title="V1 API Docs" class="title">V1 API Docs</a></li></ul></li>			</ul>
	    </div>
	    <!--<div class="col3 share">
	    	<div>
		    	<a href="https://twitter.com/lemonstand" class="twitter-follow-button" data-show-count="false">Follow @lemonstand</a>
		    	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	    	</div>
	    	
	    	<div>
	    		<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Ffacebook.com%2Flemonstand&amp;send=false&amp;layout=button_count&amp;width=200&amp;show_faces=false&amp;font=arial&amp;colorscheme=light&amp;action=like&amp;height=21&amp;appId=194533163908263" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90; height:21px;" allowTransparency="true"></iframe>
	    	</div>
	    	

	    	<div class="g-plusone" data-size="medium" data-href="http://lemonstand.com"></div>
	    	
	    	<div id="footer_newsletter">
	    		<h5>Get Email updates (It's Free)</h5>
	    		<form method="post" action="/" onsubmit="return subscribe_email(this, 'footer_newsletter', 'site:footer:newsletter')">
				    <input type="hidden" name="format" value="h" />
				    <input type="text" name="email" value="Email Address" id="optInEmail" class="formField" />
				    <input type="submit" value="Sign-Up" id="optInBtn" class="button small yellow" />
				    <p>We'll keep your email safe. Promise.</p>
			  </form>
  			</div>
	    </div>-->
    </div>
    <div class="col12 terms">
      <p>Copyright &copy; 2018 LemonStand eCommerce Inc. All Rights Reserved. <a href="../tos/index.html">Terms &amp; Conditions</a> | <a href="../privacy-policy/index.html">Privacy Policy</a></p>
    </div>
  </div><!--/footerContent-->
  <div style="clear: both; width: 960p;">&nbsp;</div>
</div><!--/footer-->



<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<!-- affiliate -->
<script type="text/javascript"><!--
document.write(unescape("%3Cscript id='pap_x2s6df8d' src='" + (("https:" == document.location.protocol) ? "https://" : "http://") + 
"affiliate.lemonstandapp.com/scripts/trackjs.js' type='text/javascript'%3E%3C/script%3E"));//-->
</script>
<script type="text/javascript"><!--
PostAffTracker.setAccountId('default1');
try {
PostAffTracker.track();
} catch (err) { }
//-->
</script>
<!-- /affiliate -->
<script type="text/javascript">
  // Track GA variables
  var _gaq = _gaq || [];
  
  _gaq.push(['_setCustomVar', 1, 'Visitor Type', 'Guest', 1]);
  _gaq.push(['_setCustomVar', 2, 'Partner', 'No', 1]);
  
  
  _gaq.push(['_setCustomVar', 4, 'Author', 'No', 1]);
</script>

<!--CrazyEgg-->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0000/6128.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
	<!--AdRoll-->
	<script type="text/javascript">
	adroll_adv_id = "QICDG4SA4BCD7BH2B4E4OA";
	adroll_pix_id = "BZOADVG5ZFG4XATGXBKRV7";
	(function () {
	var oldonload = window.onload;
	window.onload = function(){
	   __adroll_loaded=true;
	   var scr = document.createElement("script");
	   var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
	   scr.setAttribute('async', 'true');
	   scr.type = "text/javascript";
	   scr.src = host + "/j/roundtrip.js";
	   ((document.getElementsByTagName('head') || [null])[0] ||
	    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
	   if(oldonload){oldonload()}};
	}());
	</script>
	<!-- Pathful tracking -->
<script>
var PF_APPID = "3b5537e5529b89e5";
setTimeout(function(){ var d = document; 
s = d.createElement('script');
s.type = 'text/javascript'; s.async = true;
s.src = ("https:" == document.location.protocol) ? 
"https://ssl.pathful.com/js/scripts/secure.js"
: "http://s.pathful.com/js/scripts/capture.js";
document.body.appendChild(s, d);
}, 1);
</script>

</body>
 </html>