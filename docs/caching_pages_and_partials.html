<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">    
<html xmlns="http://www.w3.org/1999/xhtml" class="mac">
<head>
    <title>LemonStand Version 1 - Caching Pages and Partials</title>
  <link rel="shortcut icon" href="../favicon.ico" />
  <link href="http://feeds.feedburner.com/lemonstand" type="application/rss+xml" rel="alternate" title="LemonStand blog" />
  <link href="http://feeds.feedburner.com/LemonstandReleaseNotes" type="application/rss+xml" rel="alternate" title="LemonStand release notes" />

  <link rel="stylesheet" type="text/css" href="../ls_css_combine/index.html@file[]=%252Fresources%252Fcss%252Fgrid.css&amp;file[]=%252Fresources%252Fcss%252Fformsframework.css&amp;file[]=%252Fresources%252Fcss%252Fscreen.css&amp;file[]=%252Fresources%252Fcss%252Fjquery.fancybox.css&amp;file[]=%252Fresources%252.css"/>

  <script type="text/javascript" src="../ls_javascript_combine/index.html@file[]=%252Fresources%252Fjs%252Fjquery-1.7.1.min.js&amp;file[]=%252Fresources%252Fjs%252Ftwitter.js&amp;file[]=%252Fresources%252Fjs%252Fjquery.noconflict.js&amp;file[]=%252Fmodules%252Fcms%252Fresources%252Fjavascript%252Ff"></script>
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic|Playfair+Display:400,400italic' rel='stylesheet' type='text/css'>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Language" content="en"/>
  <meta name="keywords" content="" />
  <meta name="description" content="" />

  <meta property="fb:app_id" content="194533163908263"/>


   
  <link type="text/css" rel="stylesheet" href="../resources/shl/styles/shCore.css" />
  <link type="text/css" rel="stylesheet" href="../resources/shl/styles/shThemeRDark.css" />  
  <script type="text/javascript" src="../ls_javascript_combine/index.html@file[]=%252Fresources%252Fjs%252Fjquery-ui-1.8.11.custom.min.js&amp;file[]=%252Fresources%252Fshl%252Fscripts%252FshCore.js&amp;file[]=%252Fresources%252Fshl%252Fscripts%252FshBrushJScript.js&amp;file[]=%252Fresources%252Fs"></script>
  
  <script type="text/javascript">
    SyntaxHighlighter.config.clipboardSwf = '/resources/shl/scripts/clipboard.swf';
    SyntaxHighlighter.all();
    SyntaxHighlighter.defaults.gutter = false;
	SyntaxHighlighter.config.strings.expandSource = "Click to expand the code block";
        
    window.addEvent('domready', function() {
      var $ = jQuery;

      $(".thumbnailWrap a").fancybox({      
         'zoomSpeedIn': 300,
         'zoomSpeedOut': 300,
         'overlayShow': true,
         'titleShow'      : 'true',
         'overlayOpacity': .6
       });
       
       jQuery(".code-tabs").tabs();
    });
  </script>  
  <link rel="stylesheet" type="text/css" href="../resources/css/syntax_highlightier.css@1.css" />
  <link rel="stylesheet" type="text/css" href="../resources/css/wiki.css@1.css" />
  
</head>
<body id="b_help" class="mac">
  <div id="wrapper">
    <div id="headerWrapper">
	  	<div style="background:#333;color:#fff;text-align:center;padding:20px 0;">
	  		<p style="color:#eaeaea">This is the documentation for LemonStand V1, which has been discontinued. You can <a href="https://lemonstand.com/v1tocloud">learn more and upgrade your store here</a>.</p>
	  	</div>
       <div id="header">
      <a href="../index.html" id="headerLogo"><img src="../resources/i/lemonstand_logo.png" alt="LemonStand" /></a>      
      	<p id="contactUs"><span data-icon="&#xe04f;" aria-hidden="true"></span> <a href="tel://1-855-332-0555"><strong>1-855-332-0555</strong></a> &nbsp;&nbsp;&nbsp;<span data-icon="&#xe03e;" aria-hidden="true"> <a href="mailto:sales@lemonstand.com"><strong>sales@lemonstand.com</strong></a>&nbsp;&nbsp;&nbsp; 
      			<span data-icon="&#xe016;" aria-hidden="true"></span> <a id="myaccont_login" href="http://v1.lemonstand.com/myaccount/"><strong>Log In</strong></a>
			</p>

      <div id="navigation">
		<ul>
		<!-- <li class="dropdown"><span>Tour &#9662;</span>
			<ul>
				<li class="first"><a href="/tour/">Take a Tour</a></li>
				<li class="last"><a href="/features/customization/">Features</a></li>
			</ul>
		</li> -->
		<!--<li><a href="/features/">Features</a></li>
		<li><a href="/gallery/">Gallery</a></li>-->
		<li><a href="http://v1.lemonstand.com/marketplace/">Marketplace</a></li>
		<!--<li><a href="/buy/">Pricing</a></li>-->
		<li class="dropdown last"><span>Resources &#9662;</span>
			<ul>              
			  <li class="first"><a href="../docs.html">Documentation</a></li>
			  <li><a href="api_function_and_class_reference/index.html">API</a></li>
			  <li id="n_forum"><a href="http://forum.lemonstand.com">Forum</a></li>
			  <li><a href="http://v1.lemonstand.com/myaccount/tickets/">Technical Support</a></li>
			  <li><a href="http://forum.lemonstandapp.com/index.php?app=tracker&showproject=2">Issue Tracker</a></li>
			  <li><a href="http://v1.lemonstand.com/release-notes/">Release Notes</a></li>
			  <!--<li><a href="/faq/">FAQ</a></li>-->
			  <li class="last"><a href="http://blog.lemonstand.com">Blog</a></li>
			</ul>
		</li>
		<li class="dropdown"><span>Partners &#9662;</span>
			<ul>
				<li class="first"><a href="../partners.html">Certified Partners</a></li>
				<li class="last"><a href="../hire-developers/index.html">Hire a Freelancer</a></li>
			</ul>
		
		</li>
        </ul>
      </div><!--/navigation-->      
      
      	    </div><!--/header-->
    </div><!-- /headerWrapper -->    
    <!-- <div id="topContentWrapper">  
      <div id="topContent">
        <div id="topCol1">
          <h1>LemonStand <span>Documentation</span></h1>
        </div>
      </div>
    </div> -->
    <div id="contentWrapper">  
      <div id="content" class="clearfix">
        <div class="wrap12">
	        <form method="get" action="http://v1.lemonstand.com/docs_search">
        <div id="wiki_search">
          <input name="query" type="text" id="wiki_search_field"/>
          <input type="submit" id="btn-doc-search" class="awesome blue large" value="Search"/>
          <div class="wiki_clear"></div>
        </div>
      </form>
    </div>
  
          <div class="col12 wiki_page_content">
        <div class="wiki_breadcrumbs"><ul class="wiki_toc"><li><a href="front_page.html">LemonStand</a></li><li><a href="developer_guide.html">Developer Guide</a></li><li><a href="advanced_features.html">Advanced Features for your Online Store</a></li><li class="last">Caching Pages and Partials</li></ul></div>
        <div id="wiki-cta">
        	<h3>LemonStand Version 1 Has Been Discontinued</h1>
        	<p>This documentation is for LemonStand Version 1. LemonStand is now offered as a cloud-based eCommerce platform.<br> You can try the new LemonStand and <a href="https://lemonstand.com/v1tocloud">learn about upgrading here</a>.</p>
        </div>
        
        <h2>Caching Pages and Partials</h2>
        
        <p>LemonStand includes a flexible caching system integrated with the CMS, which allows you to cache partials and whole pages, significantly increasing the website performance and response times. This page explains how you can use these features on your store. Please read the <a href="caching_api.html">caching API</a> article to learn how to configure the caching system and choose a suitable caching provider - file-based, APC or Memcached.</p>
<h3>How the caching works</h3>
<p>You can enable caching for any page or partial. When LemonStand renders a page, it first checks whether there this CMS object is cached. If it is cached, it checks whether the cache item it is not expired. If the object is not expired, the cached content displayed. Otherwise LemonStand generates the content and caches it. You can manage the page and partial expiration parameters. They can expire depending on the time-to-live interval, or when the store catalog updates, or when CMS or blog content updates. Also, you can create different cache versions for different customer groups, customers and page URLs.</p>
<h3>Which content to cache</h3>
<p>Although you can cache any page and partial, there is no point in caching all the website content. Cache pages or page elements which require much computing on the server side, update rarely and do not depend on the current user behavior. Good candidates for caching:&nbsp;</p>
<ul>
<li>Category page</li>
<li>Featured products partial</li>
<li>Category menu partial</li>
<li>Partials which perform complex queries: best selling products, "customers also buy" partials, etc.</li>
</ul>
<p>Bad candidates for caching:</p>
<ul>
<li>Cart page</li>
<li>Customer profile page</li>
<li>Customer order list</li>
</ul>
<h3>Caching partials</h3>
<p>To cache partials, pass the caching parameters to the third parameter of the controller's render_partial() method. Example: <div class="code-tabs" id="render_partial"><ul><li><a href="caching_pages_and_partials.html#render_partial-php">PHP</a></li><li><a href="caching_pages_and_partials.html#render_partial-twig">Twig</a></li></ul><div id="render_partial-php"><div class="codeblock"><pre class="brush:php; collapse: false">&lt;?
  $this-&gt;render_partial('my_partial', 
     array(), // No partial-specific parameters (to simplify the example)
     array(
        'cache'=&gt;true,// Enable caching
        'cache_vary_by'=&gt;array('url'), // We are going to reuse this partial on different pages, but its content can be different for different pages so we want to create different partial cache versions for different pages
        'cache_versions'=&gt;array('catalog'), // The partial should be recached then the catalog updates
        'cache_ttl'=&gt;1800 // Recache each 30 minutes
    )
  ) ?&gt;</pre></div></div><div id="render_partial-twig"><div class="codeblock"><pre class="brush:twig; collapse: false">{{ render_partial('my_partial', 
     {},
     {
        'cache': true,
        'cache_vary_by': ['url'],
        'cache_versions': ['catalog'],
        'cache_ttl': 1800
    }
) }}</pre></div></div></div></p>
<p>There are 4 parameters which manage the partial caching:</p>
<ul>
<li><strong>cache</strong> - enables the caching.</li>
<li><strong>cache_vary_by</strong> - array or string (for a single value parameter). Specifies parameters the cache should depend on. For example, you can create different versions of a partial cache for different pages (if you reuse a partial on different pages), or for different customers, customer groups, and other parameters. See detailed description below.</li>
<li><strong>cache_versions</strong> - array or string (for a single value parameter). Allows to specify names of content types which versions the partial cache should depend on. You can use the following values in this parameter: cms, catalog, blog. If you specify the catalog content type, the partial will be automatically recached if you update the catalog (add/update/delete products, apply catalog price rules, update categories, etc). The cms and blog parameters work in the same way. but watch updates of the CMS and blog content.</li>
<li><strong>cache_ttl</strong> - cache item time-to-live, in seconds. Please note, that file-based caching does not support per-item TTL setting and always use the global TTL value specified in the caching configuration parameters.</li>
</ul>
<p>The <strong>cache_vary_by</strong> parameter can accept system-level parameters and custom parameters. LemonStand creates different cache items for each parameter sets. You can use the following system-level vary by parameters:</p>
<ul>
<li><strong>url</strong>&nbsp;- generates different keys for different page URLs</li>
<li><strong>customer</strong>&nbsp;- generates different keys for different customers</li>
<li><strong>customer_group</strong>&nbsp;- generates different keys for different customer group</li>
<li><strong>customer_presence</strong>&nbsp;- generates different keys depending on whether a customer is logged in or not</li>
</ul>
<p>The system-level parameters should be specified as strings. Some examples of <strong>cache_vary_by&nbsp;</strong>system-level parameters: <div class="code-tabs" id="vary_by_system"><ul><li><a href="caching_pages_and_partials.html#vary_by_system-php">PHP</a></li><li><a href="caching_pages_and_partials.html#vary_by_system-twig">Twig</a></li></ul><div id="vary_by_system-php"><div class="codeblock"><pre class="brush:php; collapse: true">...
  // Create different cache versions for different URLs and for customer logged/non logged in conditions
  'cache_vary_by'=&gt;array('url', 'customer_presence'), 
...
  
...
  // Simplified syntax for a single parameter - use a string instead of array
  'cache_vary_by'=&gt;'url', 
...

</pre></div></div><div id="vary_by_system-twig"><div class="codeblock"><pre class="brush:twig; collapse: true">...
  // Create different cache versions for different URLs and for customer logged/non logged in conditions
  'cache_vary_by': ['url', 'customer_presence'], 
...
  
...
  // Simplified syntax for a single parameter - use a string instead of array
  'cache_vary_by': 'url', 
...

</pre></div></div></div></p>
<p>You can also use any custom parameters, if you want to create different partial cache versions depending on them. For example, if you have a product list partial on the category page, and you have a product sorting option drop-down list, you can cache product list for each sorting option. Example:&nbsp;<div class="code-tabs" id="vary_by_custom"><ul><li><a href="caching_pages_and_partials.html#vary_by_custom-php">PHP</a></li><li><a href="caching_pages_and_partials.html#vary_by_custom-twig">Twig</a></li></ul><div id="vary_by_custom-php"><div class="codeblock"><pre class="brush:php; collapse: false">// Create different cache versions for different URLs and different values of the $sort_order variable
'cache_vary_by'=&gt;array('url', 'sort_order'=&gt;$sort_order), </pre></div></div><div id="vary_by_custom-twig"><div class="codeblock"><pre class="brush:twig; collapse: false">// Create different cache versions for different URLs and different values of the $sort_order variable
'cache_vary_by': {'url': 'url', 'sort_order': sort_order}, </pre></div></div></div></p>
<h4>Caching partials and AJAX</h4>
<p>When LemonStand updates partials via AJAX, it does not applies any caching by default, because AJAX request does not contain any caching configuration (and it would be wrong to pass such information through AJAX requests). If you want to use display cached partial content through AJAX, the only way to do it is to wrap the render_partial() call with caching parameters into another partial, and then render it with an AJAX request.</p>
<h3>Caching pages</h3>
<p>To cache pages you should declare the&nbsp;get_page_caching_params() function on the Pre Action Code field of the Action tab of the Create/Edit Page form. The function should have 3 reference parameters: <strong>$vary_by</strong>, <strong>$versions</strong> and <strong>$ttl</strong>. The function should return TRUE if the page should be cached. Function example: <div class="codeblock"><pre class="brush:php; collapse: true">// Cache the page, with no parameters. The page will be re-cached when the cache 
// expires (basing on the TTL parameter specified in the caching configuration)
function get_page_caching_params(&amp;$vary_by, &amp;$versions, &amp;$ttl)
{
  return true;  
}

// The cache should be updated on CMS content update
function get_page_caching_params(&amp;$vary_by, &amp;$versions, &amp;$ttl)
{
  $versions = array('cms');
  
  return true;  
}

// The cache should be updated on CMS content update, and there should be different
// cache versions for different customer groups
function get_page_caching_params(&amp;$vary_by, &amp;$versions, &amp;$ttl)
{
  $vary_by = array('customer_group');
  $versions = array('cms');
  
  return true;  
}

</pre></div></p>
<p>The <strong>$vary_by</strong>,&nbsp;<strong>$versions</strong> and <strong>$ttl</strong> parameters are similar to the <strong>cache_vary_by</strong>,&nbsp;<strong>cache_versions</strong>&nbsp;and <strong>cache_ttl&nbsp;</strong>parameters in the partial caching. The only difference is that the <strong>url</strong>&nbsp;parameter is already included to the page <strong>$vary_by</strong> list, because page cache always depends on the page URL. Please note, that page caching does not cache the page template/layout content. In most of the cases caching the full page does not make much sense, because templates often contain elements, which depend on the customer behavior, for example the cart content indicator, the compare products list, and so on. However you can use partial caching in the templates to cache specific template areas.</p>
<h3>Manual resetting a page cache</h3>
<p>If you edit your CMS content in <a href="using_file_based_templates.html">file-based mode</a>, LemonStand may not be aware of content updates. Thus, if you use the cms vary-by parameter, it will not work. There are two ways to reset the cache in this case. The first option is going to the CMS area in the Administration Area and updating any page, partial or template, Another option allows to update cache of a specific page and all partials used on the page, using a special URL key. To use this option you should specify the key name in the caching configuration, in the config.php file with the <strong>RESET_PAGE_CACHE_KEY</strong>&nbsp;parameter: <div class="codeblock"><pre class="brush:php; collapse: false">  $CONFIG['CACHING'] = array(
    'CLASS_NAME'=&gt;'Core_ApcCache',
     ... 
    'RESET_PAGE_CACHE_KEY'=&gt;'reset_cache', // The reset cache key name
     ...
  );</pre></div></p>
<p>You can use any value for the key name. When the reset key is configured, you can reset a page cache by specifying the key in the page URL, for example: http://example.com/page/?<strong>reset_cache=1</strong></p>
        
        <p><br/>Previous: <a href="manufacturer_details_page.html">Manufacturer Details page</a><br/>Return to <a href="advanced_features.html">Advanced Features for your Online Store</a></p>
        
              </div>
      
            <div class="wrap12 commentsWrap">
		<div id="thread"></div>
		<div id="disqus_thread"></div>
		<script type="text/javascript">
		var disqus_identifier = "wiki_page_354"; //[Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread]
		var disqus_url = "http://v1.lemonstand.com/docs/caching_pages_and_partials/";
		var disqus_title = "Caching Pages and Partials";
		(function() {
		 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		 dsq.src = 'http://lemonstand.disqus.com/embed.js';
		 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=lemonstand">comments powered by Disqus.</a></noscript>

      </div><!--/commentsWrap-->
              
          </div><!--/content-->
    </div><!-- /contentWrapper -->
</div><!--/wrapper-->
<div id="footer">
  <div id="footerContent">
    <div class="wrap12">
	    <div class="col4">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">Learn About The New LemonStand Cloud</span></li><li id="" class="level1"><a href="https://lemonstand.com" title="More information" class="title">More information</a></li><li id="" class="level1"><a href="https://lemonstand.com/showcase" title="LemonStand Showcase" class="title">LemonStand Showcase</a></li><li id="" class="level1"><a href="https://lemonstand.com/features" title="LS Cloud Features" class="title">LS Cloud Features</a></li><li id="" class="level1"><a href="https://lemonstand.com/pricing" title="LS Cloud Pricing" class="title">LS Cloud Pricing</a></li><li id="" class="level1"><a href="https://lemonstand.com/signup" title="LS Cloud Free Trial" class="title">LS Cloud Free Trial</a></li><li id="" class="level1"><a href="http://blog.lemonstand.com" title="eCommerce Blog" class="title">eCommerce Blog</a></li>			</ul>
	    </div>
	    <!--<div class="col2">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">About V1</span></li><li id="" class="level1"><a href="/gallery-oldurl" title="V1 Customer Gallery" class="title">V1 Customer Gallery</a></li><li id="" class="level1"><a href="/buy" title="Buy V1 License" class="title">Buy V1 License</a></li><li id="" class="level1"><a href="/freetrial" title="V1 Trial License" class="title">V1 Trial License</a></li>			</ul>
	    </div>-->
	    <div class="col2">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">V1 Community</span></li><li id="" class="level1"><a href="http://v1.lemonstand.com/marketplace" title="Marketplace" class="title">Marketplace</a><ul><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/category/modules/" title="V1 Modules" class="title">V1 Modules</a></li><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/category/themes/" title="V1 Themes" class="title">V1 Themes</a></li><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/ideas/all/" title="V1 Ideas" class="title">V1 Ideas</a></li></ul></li><li id="" class="level1"><a href="../partners.html" title="Partners" class="title">Partners</a></li><li id="" class="level1"><a href="http://forum.lemonstandapp.com/" title="Community Forums" class="title">Community Forums</a></li>			</ul>
	    </div>
	    <div class="col3">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">V1 Support</span></li><li id="" class="level1"><a href="../myaccount.html" title="My Account" class="title">My Account</a><ul><li id="" class="level2"><a href="http://v1.lemonstand.com/myaccount/tickets" title="V1 Support Tickets" class="title">V1 Support Tickets</a></li></ul></li><li id="" class="level1"><a href="../docs.html" title="Documentation" class="title">Documentation</a><ul><li id="" class="level2"><a href="ecommerce_guide.html" title="V1 Merchant's Guide" class="title">V1 Merchant's Guide</a></li><li id="" class="level2"><a href="developer_s_guide/index.html" title="V1 Developer's Guide" class="title">V1 Developer's Guide</a></li><li id="" class="level2"><a href="../api.html" title="V1 API Docs" class="title">V1 API Docs</a></li></ul></li>			</ul>
	    </div>
	    <!--<div class="col3 share">
	    	<div>
		    	<a href="https://twitter.com/lemonstand" class="twitter-follow-button" data-show-count="false">Follow @lemonstand</a>
		    	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	    	</div>
	    	
	    	<div>
	    		<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Ffacebook.com%2Flemonstand&amp;send=false&amp;layout=button_count&amp;width=200&amp;show_faces=false&amp;font=arial&amp;colorscheme=light&amp;action=like&amp;height=21&amp;appId=194533163908263" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90; height:21px;" allowTransparency="true"></iframe>
	    	</div>
	    	

	    	<div class="g-plusone" data-size="medium" data-href="http://lemonstand.com"></div>
	    	
	    	<div id="footer_newsletter">
	    		<h5>Get Email updates (It's Free)</h5>
	    		<form method="post" action="/" onsubmit="return subscribe_email(this, 'footer_newsletter', 'site:footer:newsletter')">
				    <input type="hidden" name="format" value="h" />
				    <input type="text" name="email" value="Email Address" id="optInEmail" class="formField" />
				    <input type="submit" value="Sign-Up" id="optInBtn" class="button small yellow" />
				    <p>We'll keep your email safe. Promise.</p>
			  </form>
  			</div>
	    </div>-->
    </div>
    <div class="col12 terms">
      <p>Copyright &copy; 2018 LemonStand eCommerce Inc. All Rights Reserved. <a href="../tos/index.html">Terms &amp; Conditions</a> | <a href="../privacy-policy/index.html">Privacy Policy</a></p>
    </div>
  </div><!--/footerContent-->
  <div style="clear: both; width: 960p;">&nbsp;</div>
</div><!--/footer-->



<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<!-- affiliate -->
<script type="text/javascript"><!--
document.write(unescape("%3Cscript id='pap_x2s6df8d' src='" + (("https:" == document.location.protocol) ? "https://" : "http://") + 
"affiliate.lemonstandapp.com/scripts/trackjs.js' type='text/javascript'%3E%3C/script%3E"));//-->
</script>
<script type="text/javascript"><!--
PostAffTracker.setAccountId('default1');
try {
PostAffTracker.track();
} catch (err) { }
//-->
</script>
<!-- /affiliate -->
<script type="text/javascript">
  // Track GA variables
  var _gaq = _gaq || [];
  
  _gaq.push(['_setCustomVar', 1, 'Visitor Type', 'Guest', 1]);
  _gaq.push(['_setCustomVar', 2, 'Partner', 'No', 1]);
  
  
  _gaq.push(['_setCustomVar', 4, 'Author', 'No', 1]);
</script>

<!--CrazyEgg-->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0000/6128.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
	<!--AdRoll-->
	<script type="text/javascript">
	adroll_adv_id = "QICDG4SA4BCD7BH2B4E4OA";
	adroll_pix_id = "BZOADVG5ZFG4XATGXBKRV7";
	(function () {
	var oldonload = window.onload;
	window.onload = function(){
	   __adroll_loaded=true;
	   var scr = document.createElement("script");
	   var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
	   scr.setAttribute('async', 'true');
	   scr.type = "text/javascript";
	   scr.src = host + "/j/roundtrip.js";
	   ((document.getElementsByTagName('head') || [null])[0] ||
	    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
	   if(oldonload){oldonload()}};
	}());
	</script>
	<!-- Pathful tracking -->
<script>
var PF_APPID = "3b5537e5529b89e5";
setTimeout(function(){ var d = document; 
s = d.createElement('script');
s.type = 'text/javascript'; s.async = true;
s.src = ("https:" == document.location.protocol) ? 
"https://ssl.pathful.com/js/scripts/secure.js"
: "http://s.pathful.com/js/scripts/capture.js";
document.body.appendChild(s, d);
}, 1);
</script>

</body>
 </html>