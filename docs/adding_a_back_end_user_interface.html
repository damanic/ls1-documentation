<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">    
<html xmlns="http://www.w3.org/1999/xhtml" class="mac">
<head>
    <title>LemonStand Version 1 - Adding a Back-End User Interface</title>
  <link rel="shortcut icon" href="../favicon.ico" />
  <link href="http://feeds.feedburner.com/lemonstand" type="application/rss+xml" rel="alternate" title="LemonStand blog" />
  <link href="http://feeds.feedburner.com/LemonstandReleaseNotes" type="application/rss+xml" rel="alternate" title="LemonStand release notes" />

  <link rel="stylesheet" type="text/css" href="../ls_css_combine/index.html@file[]=%252Fresources%252Fcss%252Fgrid.css&amp;file[]=%252Fresources%252Fcss%252Fformsframework.css&amp;file[]=%252Fresources%252Fcss%252Fscreen.css&amp;file[]=%252Fresources%252Fcss%252Fjquery.fancybox.css&amp;file[]=%252Fresources%252.css"/>

  <script type="text/javascript" src="../ls_javascript_combine/index.html@file[]=%252Fresources%252Fjs%252Fjquery-1.7.1.min.js&amp;file[]=%252Fresources%252Fjs%252Ftwitter.js&amp;file[]=%252Fresources%252Fjs%252Fjquery.noconflict.js&amp;file[]=%252Fmodules%252Fcms%252Fresources%252Fjavascript%252Ff"></script>
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic|Playfair+Display:400,400italic' rel='stylesheet' type='text/css'>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Language" content="en"/>
  <meta name="keywords" content="" />
  <meta name="description" content="" />

  <meta property="fb:app_id" content="194533163908263"/>


   
  <link type="text/css" rel="stylesheet" href="../resources/shl/styles/shCore.css" />
  <link type="text/css" rel="stylesheet" href="../resources/shl/styles/shThemeRDark.css" />  
  <script type="text/javascript" src="../ls_javascript_combine/index.html@file[]=%252Fresources%252Fjs%252Fjquery-ui-1.8.11.custom.min.js&amp;file[]=%252Fresources%252Fshl%252Fscripts%252FshCore.js&amp;file[]=%252Fresources%252Fshl%252Fscripts%252FshBrushJScript.js&amp;file[]=%252Fresources%252Fs"></script>
  
  <script type="text/javascript">
    SyntaxHighlighter.config.clipboardSwf = '/resources/shl/scripts/clipboard.swf';
    SyntaxHighlighter.all();
    SyntaxHighlighter.defaults.gutter = false;
	SyntaxHighlighter.config.strings.expandSource = "Click to expand the code block";
        
    window.addEvent('domready', function() {
      var $ = jQuery;

      $(".thumbnailWrap a").fancybox({      
         'zoomSpeedIn': 300,
         'zoomSpeedOut': 300,
         'overlayShow': true,
         'titleShow'      : 'true',
         'overlayOpacity': .6
       });
       
       jQuery(".code-tabs").tabs();
    });
  </script>  
  <link rel="stylesheet" type="text/css" href="../resources/css/syntax_highlightier.css@1.css" />
  <link rel="stylesheet" type="text/css" href="../resources/css/wiki.css@1.css" />
  
</head>
<body id="b_help" class="mac">
  <div id="wrapper">
    <div id="headerWrapper">
	  	<div style="background:#333;color:#fff;text-align:center;padding:20px 0;">
	  		<p style="color:#eaeaea">This is the documentation for LemonStand V1, which has been discontinued. You can <a href="https://lemonstand.com/v1tocloud">learn more and upgrade your store here</a>.</p>
	  	</div>
       <div id="header">
      <a href="../index.html" id="headerLogo"><img src="../resources/i/lemonstand_logo.png" alt="LemonStand" /></a>      
      	<p id="contactUs"><span data-icon="&#xe04f;" aria-hidden="true"></span> <a href="tel://1-855-332-0555"><strong>1-855-332-0555</strong></a> &nbsp;&nbsp;&nbsp;<span data-icon="&#xe03e;" aria-hidden="true"> <a href="mailto:sales@lemonstand.com"><strong>sales@lemonstand.com</strong></a>&nbsp;&nbsp;&nbsp; 
      			<span data-icon="&#xe016;" aria-hidden="true"></span> <a id="myaccont_login" href="http://v1.lemonstand.com/myaccount/"><strong>Log In</strong></a>
			</p>

      <div id="navigation">
		<ul>
		<!-- <li class="dropdown"><span>Tour &#9662;</span>
			<ul>
				<li class="first"><a href="/tour/">Take a Tour</a></li>
				<li class="last"><a href="/features/customization/">Features</a></li>
			</ul>
		</li> -->
		<!--<li><a href="/features/">Features</a></li>
		<li><a href="/gallery/">Gallery</a></li>-->
		<li><a href="http://v1.lemonstand.com/marketplace/">Marketplace</a></li>
		<!--<li><a href="/buy/">Pricing</a></li>-->
		<li class="dropdown last"><span>Resources &#9662;</span>
			<ul>              
			  <li class="first"><a href="../docs.html">Documentation</a></li>
			  <li><a href="api_function_and_class_reference/index.html">API</a></li>
			  <li id="n_forum"><a href="http://forum.lemonstand.com">Forum</a></li>
			  <li><a href="http://v1.lemonstand.com/myaccount/tickets/">Technical Support</a></li>
			  <li><a href="http://forum.lemonstandapp.com/index.php?app=tracker&showproject=2">Issue Tracker</a></li>
			  <li><a href="http://v1.lemonstand.com/release-notes/">Release Notes</a></li>
			  <!--<li><a href="/faq/">FAQ</a></li>-->
			  <li class="last"><a href="http://blog.lemonstand.com">Blog</a></li>
			</ul>
		</li>
		<li class="dropdown"><span>Partners &#9662;</span>
			<ul>
				<li class="first"><a href="../partners.html">Certified Partners</a></li>
				<li class="last"><a href="../hire-developers/index.html">Hire a Freelancer</a></li>
			</ul>
		
		</li>
        </ul>
      </div><!--/navigation-->      
      
      	    </div><!--/header-->
    </div><!-- /headerWrapper -->    
    <!-- <div id="topContentWrapper">  
      <div id="topContent">
        <div id="topCol1">
          <h1>LemonStand <span>Documentation</span></h1>
        </div>
      </div>
    </div> -->
    <div id="contentWrapper">  
      <div id="content" class="clearfix">
        <div class="wrap12">
	        <form method="get" action="http://v1.lemonstand.com/docs_search">
        <div id="wiki_search">
          <input name="query" type="text" id="wiki_search_field"/>
          <input type="submit" id="btn-doc-search" class="awesome blue large" value="Search"/>
          <div class="wiki_clear"></div>
        </div>
      </form>
    </div>
  
          <div class="col12 wiki_page_content">
        <div class="wiki_breadcrumbs"><ul class="wiki_toc"><li><a href="front_page.html">LemonStand</a></li><li><a href="developer_guide.html">Developer Guide</a></li><li><a href="administrative_dashboard.html">Administrative Dashboard</a></li><li class="last">Adding a Back-End User Interface</li></ul></div>
        <div id="wiki-cta">
        	<h3>LemonStand Version 1 Has Been Discontinued</h1>
        	<p>This documentation is for LemonStand Version 1. LemonStand is now offered as a cloud-based eCommerce platform.<br> You can try the new LemonStand and <a href="https://lemonstand.com/v1tocloud">learn about upgrading here</a>.</p>
        </div>
        
        <h2>Adding a Back-End User Interface</h2>
        
        <p>In this section we will explain how you can add new items to the LemonStand Administration Area main menu, new tabs to the top menu, and new pages. Also we will describe the process of creating forms and lists. You will see that LemonStand API does almost all the work for you and you can accomplish most of the tasks with only a few lines of code.</p>
<h3>Controllers and Views</h3>
<p>LemonStand Administration Area implements the well known <strong>MVC</strong> programming pattern. MVC stands for Model View Controller. You already familiar with <strong>models</strong>, which were described in the <a href="working_with_the_database.html">Working with the database</a> article. Other two letters in MVC are <strong>views</strong> and <strong>controllers</strong>&nbsp;and they are responsible for displaying pages in the Administration Area.</p>
<p>The Controllers and Views approach allows to separate a page background logic and the page visual representation. Controllers are PHP classes which can prepare all required data before a page is displayed. Views are HTML files which format and display the prepared data to a user. You can find more information about views in the <a href="structure_of_a_view_document.html">Structure of a view document</a> article.</p>
<p>Controllers are PHP classes which should be defined inside file placed to the module <strong>controllers</strong> directory. Usually each controller handles a single data object. For example, in the Shop module we have separate controllers for managing orders, customers and products. This separation not only simplifies controllers code, but also allows to leverage the power of LemonStand <strong>behaviors</strong> which automate such tasks as creating lists and forms in the Administration Area.</p>
<p>All controllers should extend the <strong>Backend_Controller</strong> class. Also, there is a simple naming convention, the same as used for all module class names (please see the <a href="adding_a_back_end_user_interface.html#">Developing LemonStand modules</a> article for details), which says that the controller class names should start from the module identifier. All controllers of the Shop module have names starting with "Shop_" prefix. The remaining part of the name can be anything and affects the URL of pages represented by the controller.</p>
<p>For example, if there is a <strong>Shop_Customers</strong> controller class, all pages supplied by this controller in the Administration Area will have the <strong>/shop/customers</strong> URL prefix.</p>
<p>In this article we will continue building the blog module, which we started in the <a href="developing_a_simple_module.html">Developing a simple module</a> article. Let's start with implementing a controller for managing the blog posts. We should create a controller class and place it to the abcblog/controllers directory. A suitable name for the controller is AbcBlog_Posts. A corresponding PHP script should have the abcblog_posts.php name. This is the blog module file structure after adding the controller script:</p>
<p><img src="../resources/i/wiki/extending/abcblog_file_structure_posts_controller.png" alt="" /></p>
<p>Also we should declare the AbcBlog_Posts class in the abcblog_posts.php script:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">&lt;?
  class AbcBlog_Posts extends Backend_Controller
  {
  }
?&gt;</pre></div><p>This is a correct controller declaration, but it is useless, because the controller does not supply any pages.</p>
<p class="wiki_note">Each controller can provide any number of pages. For example to the Shop_Customers controller supplies the following pages: <strong>/shop/customers</strong> (the customer list), <strong>shop/customers/edit</strong> (the Edit Customer form), <strong>shop/customers/create</strong> (the Create Customer form), <strong>shop/customers/preview</strong> (the Preview Customer page) and some others.</p>
<p>Each page is represented by an <strong>action</strong> in the controller class. Action is a public class method, which name corresponds the page url. There is one exception - the index() action corresponds the controller root URL. Definition of the index action:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">&lt;?
  class AbcBlog_Posts extends Backend_Controller
  {
    public function index()
    {
      
    }
  }
?&gt;
</pre></div><p>This code creates a page in the Administration Area. A prefix of the page URL depends on the Administration Area key URL, which you specified during the LemonStand installation. The page URL could be backdoor<strong>/abcblog/posts/</strong> or admin/<strong>abcblog/posts/</strong> - you should know its exact location. If you open the URL now, you will see an empty Administration Area page.</p>
<p class="wiki_note">In the rest of the documentation we will use URLs relative to the Administration Area root URL: abcblog/posts/ instead of <strong>backdoor</strong>/abcblog/posts/</p>
<p>As we described earlier, we need a view file in order to display pages for each controller action. Views are HTML files which name and location depends on the controller and action name. In our case the controller name is AbcBlog_Posts and the action name is <strong>index</strong>. To create a view file for the index action, we need to create the <strong>abcblog_posts</strong> directory in the module controllers directory. After that we should create the <strong>index.htm</strong> file in the new directory. Here is the module file structure after adding the index action file:</p>
<p><img src="../resources/i/wiki/extending/abcblog_file_structure_posts_index.png" alt="" /></p>
<p>Let's add something to the index.htm file, for the demonstration purposes:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">&lt;p&gt;Hello, World!&lt;/p&gt;</pre></div><p>If you now update the posts URL, you will see the following page:</p>
<p><img class="wiki_image_frame" src="../resources/i/wiki/extending/posts_index.png" alt="" /></p>
<p>It means that the controller and view files work and you are ready to continue extending the Administration Area.</p>
<h4>Setting the module and page titles</h4>
<p>The page which we just created does not output any title in the Administration Area header. We can fix it by adding a couple of lines in the action definition code:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">public function index()
{
  $this-&gt;app_module_name = 'Blog';
  $this-&gt;app_page_title = 'Posts';
}</pre></div><p>Now the header area contains the module and page name:</p>
<p><img class="wiki_image_frame" src="../resources/i/wiki/extending/posts_index_header.png" alt="" /></p>
<h4>Page parameters</h4>
<p>It is often needed to pass parameters to Administration Area pages. When you want to edit a blog post, you need to specify which blog post you want to edit - in other words you need to specify the blog post identifier. It is easy to do by passing parameters through page URLs. For example, if you have the <strong>edit</strong> action in the blog posts controller, its URL would be /abcblog/posts/edit. To pass a blog post identifier you can add an extra segment to the end of the URL: /abcblog/posts/edit/<strong>4</strong>. The LemonStand MVC implementation passes parameters to actions through the action <strong>method parameters</strong>. For example, we can define the edit action in our blog posts controller, and this action could have the <strong>$id</strong> parameter:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">public function edit($id)
{
  echo $id;
}</pre></div><p>If you open the abcblog/posts/edit/1/ action you will see the 1 symbol in the left top corner of the page. You can define and pass as many page parameters as you need.</p>
<p class="wiki_note">There is a tracing engine built into LemonStand, which allows to avoid using the echo function for displaying debug information. Use the <strong>traceLog($id);</strong> call in the previous code example, and look to the <strong>/logs/info.txt</strong> file for trace data.</p>
<h4>Passing parameters from actions to views</h4>
<p>Actions are designed for preparing data which will be accessed and displayed using view files. Thus, there should be a way to pass information from actions to views. This way is the <strong>viewData</strong> controller field. This field is an array-type variable. All elements which you create in this field in the action code become PHP variables in the view document. For example, let's imagine that the need to display a number of blog posts in the database in the blog posts page. We can extend the index function with a simple code (for simplicity we will use a static number value):</p>
<div class="codeblock"><pre class="brush:php; collapse: false">public function index()
{
  $this-&gt;app_module_name = 'Blog';
  $this-&gt;app_page_title = 'Posts';
  
  $this-&gt;viewData['post_number'] = 10;
}</pre></div><p>We can now output the post number in the index.htm file:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">&lt;p&gt;Number of posts in the database: &lt;?= $post_number ?&gt; &lt;/p&gt;
</pre></div><p>If you refresh the abcblog/posts page you will see the following message: "Number of posts in the database: 10".</p>
<h4>Administration Area URLs</h4>
<p>LemonStand API has a special function <strong>url()</strong> which helps to generate URLs relative to Administration Area root URL. It allows you to display links to your Administration Area pages, which will work work any Administration Area URL key, on any LemonStand installation. For example, we can use this function for displaying a link to the Dashboard, which Administration Area-relative URL is <strong>/backend</strong>:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">&lt;p&gt;Return to the &lt;a href=&quot;&lt;?= url('/backend') ?&gt;&quot;&gt;Dashboard&lt;/a&gt;&lt;/p&gt;</pre></div><h4>Continue</h4>
<ul class="wiki_toc"><li><a href="structure_of_a_view_document.html">Structure of a View Document</a> - explains the internal structure of a view document</li><li><a href="back_end_partials.html">Partials</a> - explains how you can re-use common page elements using the partials concept</li><li><a href="standard_page_elements.html">Standard Page Elements</a> - describes the standard Administration Area page elements like breadcrumbs, toolbars, indicators and buttons</li><li><a href="handling_errors_and_displaying_status_messages.html">Handling Errors and Displaying Status Messages</a> - explains how you can throw exceptions and display error and success messages on the pages</li><li><a href="extending_the_administration_area_menu.html">Extending the Administration Area menu</a> - explains how you can add new items to the main menu and new tabs to the top menu in the Administration Area</li><li><a href="using_ajax.html">Using AJAX</a> - describes how you can use AJAX in the Administration Area</li><li><a href="lists_in_forms_in_the_administration_area.html">Lists and Forms in the Administration Area</a> - describes the process of implementing lists and forms<ul class="wiki_toc"><li><a href="administration_area_lists.html">Lists</a> - describes the process of implementing lists in the Administration Area</li><li><a href="list_filters.html">List Filters</a> - explains how you can add the filtering feature to a list</li><li><a href="administration_area_forms.html">Forms</a> - explains how you can create forms for adding, modifying and deleting database records</li></ul></li><li><a href="working_with_checkboxes_and_drop_down_menus.html">Working with Checkboxes and Drop-Down Menus</a> - explains how to work with customized controls in LemonStand Administration Area.</li></ul>
        
        <p>Next: <a href="structure_of_a_view_document.html">Structure of a View Document</a><br/>Previous: <a href="administrative_dashboard.html">Administrative Dashboard</a><br/>Return to <a href="administrative_dashboard.html">Administrative Dashboard</a></p>
        
              </div>
      
            <div class="wrap12 commentsWrap">
		<div id="thread"></div>
		<div id="disqus_thread"></div>
		<script type="text/javascript">
		var disqus_identifier = "wiki_page_178"; //[Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread]
		var disqus_url = "http://v1.lemonstand.com/docs/adding_a_back_end_user_interface/";
		var disqus_title = "Adding a Back-End User Interface";
		(function() {
		 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		 dsq.src = 'http://lemonstand.disqus.com/embed.js';
		 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=lemonstand">comments powered by Disqus.</a></noscript>

      </div><!--/commentsWrap-->
              
          </div><!--/content-->
    </div><!-- /contentWrapper -->
</div><!--/wrapper-->
<div id="footer">
  <div id="footerContent">
    <div class="wrap12">
	    <div class="col4">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">Learn About The New LemonStand Cloud</span></li><li id="" class="level1"><a href="https://lemonstand.com" title="More information" class="title">More information</a></li><li id="" class="level1"><a href="https://lemonstand.com/showcase" title="LemonStand Showcase" class="title">LemonStand Showcase</a></li><li id="" class="level1"><a href="https://lemonstand.com/features" title="LS Cloud Features" class="title">LS Cloud Features</a></li><li id="" class="level1"><a href="https://lemonstand.com/pricing" title="LS Cloud Pricing" class="title">LS Cloud Pricing</a></li><li id="" class="level1"><a href="https://lemonstand.com/signup" title="LS Cloud Free Trial" class="title">LS Cloud Free Trial</a></li><li id="" class="level1"><a href="http://blog.lemonstand.com" title="eCommerce Blog" class="title">eCommerce Blog</a></li>			</ul>
	    </div>
	    <!--<div class="col2">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">About V1</span></li><li id="" class="level1"><a href="/gallery-oldurl" title="V1 Customer Gallery" class="title">V1 Customer Gallery</a></li><li id="" class="level1"><a href="/buy" title="Buy V1 License" class="title">Buy V1 License</a></li><li id="" class="level1"><a href="/freetrial" title="V1 Trial License" class="title">V1 Trial License</a></li>			</ul>
	    </div>-->
	    <div class="col2">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">V1 Community</span></li><li id="" class="level1"><a href="http://v1.lemonstand.com/marketplace" title="Marketplace" class="title">Marketplace</a><ul><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/category/modules/" title="V1 Modules" class="title">V1 Modules</a></li><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/category/themes/" title="V1 Themes" class="title">V1 Themes</a></li><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/ideas/all/" title="V1 Ideas" class="title">V1 Ideas</a></li></ul></li><li id="" class="level1"><a href="../partners.html" title="Partners" class="title">Partners</a></li><li id="" class="level1"><a href="http://forum.lemonstandapp.com/" title="Community Forums" class="title">Community Forums</a></li>			</ul>
	    </div>
	    <div class="col3">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">V1 Support</span></li><li id="" class="level1"><a href="../myaccount.html" title="My Account" class="title">My Account</a><ul><li id="" class="level2"><a href="http://v1.lemonstand.com/myaccount/tickets" title="V1 Support Tickets" class="title">V1 Support Tickets</a></li></ul></li><li id="" class="level1"><a href="../docs.html" title="Documentation" class="title">Documentation</a><ul><li id="" class="level2"><a href="ecommerce_guide.html" title="V1 Merchant's Guide" class="title">V1 Merchant's Guide</a></li><li id="" class="level2"><a href="developer_s_guide/index.html" title="V1 Developer's Guide" class="title">V1 Developer's Guide</a></li><li id="" class="level2"><a href="../api.html" title="V1 API Docs" class="title">V1 API Docs</a></li></ul></li>			</ul>
	    </div>
	    <!--<div class="col3 share">
	    	<div>
		    	<a href="https://twitter.com/lemonstand" class="twitter-follow-button" data-show-count="false">Follow @lemonstand</a>
		    	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	    	</div>
	    	
	    	<div>
	    		<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Ffacebook.com%2Flemonstand&amp;send=false&amp;layout=button_count&amp;width=200&amp;show_faces=false&amp;font=arial&amp;colorscheme=light&amp;action=like&amp;height=21&amp;appId=194533163908263" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90; height:21px;" allowTransparency="true"></iframe>
	    	</div>
	    	

	    	<div class="g-plusone" data-size="medium" data-href="http://lemonstand.com"></div>
	    	
	    	<div id="footer_newsletter">
	    		<h5>Get Email updates (It's Free)</h5>
	    		<form method="post" action="/" onsubmit="return subscribe_email(this, 'footer_newsletter', 'site:footer:newsletter')">
				    <input type="hidden" name="format" value="h" />
				    <input type="text" name="email" value="Email Address" id="optInEmail" class="formField" />
				    <input type="submit" value="Sign-Up" id="optInBtn" class="button small yellow" />
				    <p>We'll keep your email safe. Promise.</p>
			  </form>
  			</div>
	    </div>-->
    </div>
    <div class="col12 terms">
      <p>Copyright &copy; 2018 LemonStand eCommerce Inc. All Rights Reserved. <a href="../tos/index.html">Terms &amp; Conditions</a> | <a href="../privacy-policy/index.html">Privacy Policy</a></p>
    </div>
  </div><!--/footerContent-->
  <div style="clear: both; width: 960p;">&nbsp;</div>
</div><!--/footer-->



<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<!-- affiliate -->
<script type="text/javascript"><!--
document.write(unescape("%3Cscript id='pap_x2s6df8d' src='" + (("https:" == document.location.protocol) ? "https://" : "http://") + 
"affiliate.lemonstandapp.com/scripts/trackjs.js' type='text/javascript'%3E%3C/script%3E"));//-->
</script>
<script type="text/javascript"><!--
PostAffTracker.setAccountId('default1');
try {
PostAffTracker.track();
} catch (err) { }
//-->
</script>
<!-- /affiliate -->
<script type="text/javascript">
  // Track GA variables
  var _gaq = _gaq || [];
  
  _gaq.push(['_setCustomVar', 1, 'Visitor Type', 'Guest', 1]);
  _gaq.push(['_setCustomVar', 2, 'Partner', 'No', 1]);
  
  
  _gaq.push(['_setCustomVar', 4, 'Author', 'No', 1]);
</script>

<!--CrazyEgg-->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0000/6128.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
	<!--AdRoll-->
	<script type="text/javascript">
	adroll_adv_id = "QICDG4SA4BCD7BH2B4E4OA";
	adroll_pix_id = "BZOADVG5ZFG4XATGXBKRV7";
	(function () {
	var oldonload = window.onload;
	window.onload = function(){
	   __adroll_loaded=true;
	   var scr = document.createElement("script");
	   var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
	   scr.setAttribute('async', 'true');
	   scr.type = "text/javascript";
	   scr.src = host + "/j/roundtrip.js";
	   ((document.getElementsByTagName('head') || [null])[0] ||
	    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
	   if(oldonload){oldonload()}};
	}());
	</script>
	<!-- Pathful tracking -->
<script>
var PF_APPID = "3b5537e5529b89e5";
setTimeout(function(){ var d = document; 
s = d.createElement('script');
s.type = 'text/javascript'; s.async = true;
s.src = ("https:" == document.location.protocol) ? 
"https://ssl.pathful.com/js/scripts/secure.js"
: "http://s.pathful.com/js/scripts/capture.js";
document.body.appendChild(s, d);
}, 1);
</script>

</body>
 </html>