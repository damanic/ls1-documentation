<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">    
<html xmlns="http://www.w3.org/1999/xhtml" class="mac">
<head>
    <title>LemonStand Version 1 - Working with the Database</title>
  <link rel="shortcut icon" href="../favicon.ico" />
  <link href="http://feeds.feedburner.com/lemonstand" type="application/rss+xml" rel="alternate" title="LemonStand blog" />
  <link href="http://feeds.feedburner.com/LemonstandReleaseNotes" type="application/rss+xml" rel="alternate" title="LemonStand release notes" />

  <link rel="stylesheet" type="text/css" href="../ls_css_combine/index.html@file[]=%252Fresources%252Fcss%252Fgrid.css&amp;file[]=%252Fresources%252Fcss%252Fformsframework.css&amp;file[]=%252Fresources%252Fcss%252Fscreen.css&amp;file[]=%252Fresources%252Fcss%252Fjquery.fancybox.css&amp;file[]=%252Fresources%252.css"/>

  <script type="text/javascript" src="../ls_javascript_combine/index.html@file[]=%252Fresources%252Fjs%252Fjquery-1.7.1.min.js&amp;file[]=%252Fresources%252Fjs%252Ftwitter.js&amp;file[]=%252Fresources%252Fjs%252Fjquery.noconflict.js&amp;file[]=%252Fmodules%252Fcms%252Fresources%252Fjavascript%252Ff"></script>
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic|Playfair+Display:400,400italic' rel='stylesheet' type='text/css'>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Language" content="en"/>
  <meta name="keywords" content="" />
  <meta name="description" content="" />

  <meta property="fb:app_id" content="194533163908263"/>


   
  <link type="text/css" rel="stylesheet" href="../resources/shl/styles/shCore.css" />
  <link type="text/css" rel="stylesheet" href="../resources/shl/styles/shThemeRDark.css" />  
  <script type="text/javascript" src="../ls_javascript_combine/index.html@file[]=%252Fresources%252Fjs%252Fjquery-ui-1.8.11.custom.min.js&amp;file[]=%252Fresources%252Fshl%252Fscripts%252FshCore.js&amp;file[]=%252Fresources%252Fshl%252Fscripts%252FshBrushJScript.js&amp;file[]=%252Fresources%252Fs"></script>
  
  <script type="text/javascript">
    SyntaxHighlighter.config.clipboardSwf = '/resources/shl/scripts/clipboard.swf';
    SyntaxHighlighter.all();
    SyntaxHighlighter.defaults.gutter = false;
	SyntaxHighlighter.config.strings.expandSource = "Click to expand the code block";
        
    window.addEvent('domready', function() {
      var $ = jQuery;

      $(".thumbnailWrap a").fancybox({      
         'zoomSpeedIn': 300,
         'zoomSpeedOut': 300,
         'overlayShow': true,
         'titleShow'      : 'true',
         'overlayOpacity': .6
       });
       
       jQuery(".code-tabs").tabs();
    });
  </script>  
  <link rel="stylesheet" type="text/css" href="../resources/css/syntax_highlightier.css@1.css" />
  <link rel="stylesheet" type="text/css" href="../resources/css/wiki.css@1.css" />
  
</head>
<body id="b_help" class="mac">
  <div id="wrapper">
    <div id="headerWrapper">
	  	<div style="background:#333;color:#fff;text-align:center;padding:20px 0;">
	  		<p style="color:#eaeaea">This is the documentation for LemonStand V1, which has been discontinued. You can <a href="https://lemonstand.com/v1tocloud">learn more and upgrade your store here</a>.</p>
	  	</div>
       <div id="header">
      <a href="../index.html" id="headerLogo"><img src="../resources/i/lemonstand_logo.png" alt="LemonStand" /></a>      
      	<p id="contactUs"><span data-icon="&#xe04f;" aria-hidden="true"></span> <a href="tel://1-855-332-0555"><strong>1-855-332-0555</strong></a> &nbsp;&nbsp;&nbsp;<span data-icon="&#xe03e;" aria-hidden="true"> <a href="mailto:sales@lemonstand.com"><strong>sales@lemonstand.com</strong></a>&nbsp;&nbsp;&nbsp; 
      			<span data-icon="&#xe016;" aria-hidden="true"></span> <a id="myaccont_login" href="http://v1.lemonstand.com/myaccount/"><strong>Log In</strong></a>
			</p>

      <div id="navigation">
		<ul>
		<!-- <li class="dropdown"><span>Tour &#9662;</span>
			<ul>
				<li class="first"><a href="/tour/">Take a Tour</a></li>
				<li class="last"><a href="/features/customization/">Features</a></li>
			</ul>
		</li> -->
		<!--<li><a href="/features/">Features</a></li>
		<li><a href="/gallery/">Gallery</a></li>-->
		<li><a href="http://v1.lemonstand.com/marketplace/">Marketplace</a></li>
		<!--<li><a href="/buy/">Pricing</a></li>-->
		<li class="dropdown last"><span>Resources &#9662;</span>
			<ul>              
			  <li class="first"><a href="../docs.html">Documentation</a></li>
			  <li><a href="api_function_and_class_reference/index.html">API</a></li>
			  <li id="n_forum"><a href="http://forum.lemonstand.com">Forum</a></li>
			  <li><a href="http://v1.lemonstand.com/myaccount/tickets/">Technical Support</a></li>
			  <li><a href="http://forum.lemonstandapp.com/index.php?app=tracker&showproject=2">Issue Tracker</a></li>
			  <li><a href="http://v1.lemonstand.com/release-notes/">Release Notes</a></li>
			  <!--<li><a href="/faq/">FAQ</a></li>-->
			  <li class="last"><a href="http://blog.lemonstand.com">Blog</a></li>
			</ul>
		</li>
		<li class="dropdown"><span>Partners &#9662;</span>
			<ul>
				<li class="first"><a href="../partners.html">Certified Partners</a></li>
				<li class="last"><a href="../hire-developers/index.html">Hire a Freelancer</a></li>
			</ul>
		
		</li>
        </ul>
      </div><!--/navigation-->      
      
      	    </div><!--/header-->
    </div><!-- /headerWrapper -->    
    <!-- <div id="topContentWrapper">  
      <div id="topContent">
        <div id="topCol1">
          <h1>LemonStand <span>Documentation</span></h1>
        </div>
      </div>
    </div> -->
    <div id="contentWrapper">  
      <div id="content" class="clearfix">
        <div class="wrap12">
	        <form method="get" action="http://v1.lemonstand.com/docs_search">
        <div id="wiki_search">
          <input name="query" type="text" id="wiki_search_field"/>
          <input type="submit" id="btn-doc-search" class="awesome blue large" value="Search"/>
          <div class="wiki_clear"></div>
        </div>
      </form>
    </div>
  
          <div class="col12 wiki_page_content">
        <div class="wiki_breadcrumbs"><ul class="wiki_toc"><li><a href="front_page.html">LemonStand</a></li><li><a href="developer_guide.html">Developer Guide</a></li><li><a href="extending_lemonstand.html">Extending LemonStand</a></li><li class="last">Working with the Database</li></ul></div>
        <div id="wiki-cta">
        	<h3>LemonStand Version 1 Has Been Discontinued</h1>
        	<p>This documentation is for LemonStand Version 1. LemonStand is now offered as a cloud-based eCommerce platform.<br> You can try the new LemonStand and <a href="https://lemonstand.com/v1tocloud">learn about upgrading here</a>.</p>
        </div>
        
        <h2>Working with the Database</h2>
        
        <p>In LemonStand, you can work with database tables using two different approaches - direct SQL queries or using model PHP classes. Model classes are PHP classes which extend the ActiveRecord base class (Db_ActiveRecord).</p>
<h3>How to choose between direct SQL queries and ActiveRecord</h3>
<p>ActiveRecord is a powerful approach to accessing data and was initially implemented in Ruby On Rails. It is a great tool that simplifies many common tasks like creating, updating and deleting database records. LemonStand customer, order, product and many other business objects are implemented using the ActiveRecord approach. You should use ActiveRecord for all database objects supplied by your module. It is especially helpful if you are going to build a user interface in the Administration Area, because LemonStand can create HTML lists and forms automatically, based on data description provided by ActiveRecord objects.</p>
<p>You may need to use direct SQL queries if you want to perform some simple database operations, or if you do no want to use the ActiveRecord approach due to performance considerations, or if it is not possible to accomplish some database manipulation using ActiveRecord, for example when you need to update a database table structure. ActiveRecord objects work slower than direct queries and they use more memory. If you need to fetch names of all countries from the database in order to display them in a drop-down list, it is better to use direct queries, because in this case the power of ActiveRecord is not needed, but loading hundreds of country objects would waste a lot of memory and CPU time. On the other hand, if you want to update a title of a blog post, it is better to use the ActiveRecord approach, because it will require much simpler PHP code. Also the ActiveRecord engine will automatically update some service table fields like the <strong>Updated At</strong> and <strong>Updated By</strong>.</p>
<h3>Executing direct SQL queries</h3>
<p>You can send direct queries to the database using the Db_DbHelper class. This class has methods for fetching and updating data in the database.</p>
<ul>
<li>Db_DbHelper::scalar($sql) - fetches and returns a scalar value from the database. Example: <div class="codeblock"><pre class="brush:php; collapse: false">$customer_count = Db_DbHelper::scalar('select count(*) from shop_customers'); </pre></div></li>
<li>Db_DbHelper::query($sql) - executes a database query. Example: <div class="codeblock"><pre class="brush:php; collapse: false">Db_DbHelper::query('update abcblog_posts set title=&quot;Some title&quot; where id=2');</pre></div></li>
<li>Db_DbHelper::queryArray($sql) - returns a list of database records, representing each record as an array. Example: <div class="codeblock"><pre class="brush:php; collapse: false">$customers = Db_DbHelper::queryArray('select * from shop_customers');</pre></div> This query would return an array. Each element in the array would be another array with indexes matching the shop_customers table fields.</li>
<li>Db_DbHelper::objectArray($sql) - returns a list of database records, representing each record as a PHP object. Example: <div class="codeblock"><pre class="brush:php; collapse: false">$customers = Db_DbHelper::objectArray('select * from shop_customers');</pre></div> This query would return an array. Each element in the array would be an object with properties matching the shop_customers table fields. Returned objects are not ActiveRecord objects and have no methods. You can only read their properties.</li>
<li>Db_DbHelper::object($sql) - returns a PHP object with fields matching the query result fields. Example: <div class="codeblock"><pre class="brush:php; collapse: false">$customer = Db_DbHelper::object('select * from shop_customers where id=1');</pre></div> This code would return a PHP object (not the ActiveRecord instance) with fields matching the shop_customers table fields.</li>
</ul>
<h4>Using parameters in queries</h4>
<p>You will often need to pass parameters to SQL queries. All methods of the Db_DbHelper class accept a second parameter which you can use for setting values for parameters specified in the query string. To specify a parameter use the <strong>colon</strong> character before a parameter name. For example:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">$customer_email = Db_DbHelper::scalar('select email from shop_customers where id=:id', array('id'=&gt;2)); </pre></div><p>or</p>
<div class="codeblock"><pre class="brush:php; collapse: false">Db_DbHelper::query('update abcblog_posts set title=:title_param where id=:id', array('title_param'=&gt;$title, 'id'=&gt;32));</pre></div><h3>ActiveRecord</h3>
<p>PHP Road (a core framework of LemonStand) has its own implementation of the Active Record pattern, defined in the Db_ActiveRecord class. All PHP classes for working with database tables should extend the Db_ActiveRecord class. Such classes are called <strong>models</strong>. There should be one model class for each database table. For example, if you are building a blog module, you would probably have models for blog posts and comments.</p>
<p>We will demonstrate the ActiveRecord concept using the blog module example, which we started in the <a href="developing_a_simple_module.html">Developing a simple module</a> article. If you remember, we created the abcblog_posts table in the database for storing blog posts. Now we will create a model object for managing the table content. First we need to create a file for the model class. According to the naming conventions described in the <a href="working_with_the_database.html#">Developing LemonStand modules</a> article, a suitable name for the model class is AbcBlog_Post. And a corresponding file name is abcblog_post.php. Model class scripts in LemonStand modules should be placed to the <strong>models</strong> directory, which we should create now. After creating the models directory and the abcblog_post.php script, our module has the following file structure:</p>
<p><img src="../resources/i/wiki/extending/abcblog_model_filestruct.png" alt="" /></p>
<p>To define the blog post model class, we should extend the Db_ActiveRecord class and specify a corresponding database table name in the <strong>$table_name</strong> public field:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">&lt;?
  class AbcBlog_Post extends Db_ActiveRecord
  {
    public $table_name = 'abcblog_posts';
  }
?&gt;</pre></div><p>Although the class declaration is very simple, the class can now perform all operations on the abcblog_posts table, because it extends the Db_ActiveRecord class. For example, we can create a new blog post record using a very simple code snippet:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">$obj = new AbcBlog_Post();
$obj-&gt;title = 'My first post';
$obj-&gt;content = 'Hello, world!';
$obj-&gt;save();
</pre></div><p>If you execute this code and look to the database you will see that the posts table now contains a single record:</p>
<table class="wiki_data_table">
<thead>
<tr><th>id</th><th>created_at</th><th>updated_at</th><th>created_user_id</th><th>updated_user_id</th><th>title</th><th>description</th><th>content</th></tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2010-04-01 01-10-10</td>
<td>NULL</td>
<td>1</td>
<td>NULL</td>
<td>My first post</td>
<td>NULL</td>
<td>Hello, world!</td>
</tr>
</tbody>
</table>
<p>The <strong>created_at</strong>, <strong>updated_at</strong>, <strong>created_user_id</strong> and <strong>updated_user_id</strong> are service fields which LemonStand can update automatically. The <strong>created_at</strong> and <strong>created_user_id</strong>&nbsp;fields contain a time when the record was created and an identifier of a LemonStand user which created the record. The <strong>updated_at</strong> and <strong>updated_user_id</strong> fields contain a similar record update information. LemonStand updates these fields each time when you save a record to the database. Time values are usually stored in GMT, for possible future compatibility with multiple user locations. LemonStand can automatically convert time values to a time zone, specified in the config.php file, before displaying them.</p>
<p>Finding and updating records using with ActiveRecord is a simple task as well:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">$obj = new AbcBlog_Post();
$obj = $obj-&gt;find(1);
$obj-&gt;title = 'My first post, updated';
$obj-&gt;save();</pre></div><p>This code creates an object of the AbcBlog_Post clas and calls its find() method. This method can accept a single parameter - an identifier of a record which you want to find. After finding the record, the code updates its title field and saves the record to the database. The updated database record:</p>
<table class="wiki_data_table">
<thead>
<tr><th>id</th><th>created_at</th><th>updated_at</th><th>created_user_id</th><th>updated_user_id</th><th>title</th><th>description</th><th>content</th></tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2010-04-01 01-10-10</td>
<td>2010-04-01 01-14-10</td>
<td>1</td>
<td>1</td>
<td>My first post, updated</td>
<td>NULL</td>
<td>Hello, world!</td>
</tr>
</tbody>
</table>
<p>The <strong>find()</strong> method can return NULL value in case if it cannot find a database record with a specified identifier. You should check a value returned by the method before you try to access its properties or call its methods. The good thing is that LemonStand can take care of all standard data management operations if you are building a user interface for the Administration Area. You can display a list of blog posts and create forms for creating and updating blog posts with a few lines of code. Please read the <a href="adding_a_back_end_user_interface.html">Adding a back-end user interface</a> article for details.</p>
<p>Code example for deleting a record:</p>
<div class="codeblock"><pre class="brush:php; collapse: false">$obj = new AbcBlog_Post();
$obj = $obj-&gt;find(1);
$obj-&gt;delete();</pre></div><p>You can also find more details about the <a href="http://v1.lemonstand.com/docs/class_db_activerecord">Db_ActiveRecord</a> class in the <a href="api_function_and_class_reference.html">class reference section</a>.</p>
        
        <p>Next: <a href="creating_and_updating_database_tables.html">Creating and Updating Database Tables</a><br/>Previous: <a href="understanding_lemonstand_modules.html">Understanding LemonStand Modules</a><br/>Return to <a href="extending_lemonstand.html">Extending LemonStand</a></p>
        
              </div>
      
            <div class="wrap12 commentsWrap">
		<div id="thread"></div>
		<div id="disqus_thread"></div>
		<script type="text/javascript">
		var disqus_identifier = "wiki_page_176"; //[Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread]
		var disqus_url = "http://v1.lemonstand.com/docs/working_with_the_database/";
		var disqus_title = "Working with the Database";
		(function() {
		 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		 dsq.src = 'http://lemonstand.disqus.com/embed.js';
		 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=lemonstand">comments powered by Disqus.</a></noscript>

      </div><!--/commentsWrap-->
              
          </div><!--/content-->
    </div><!-- /contentWrapper -->
</div><!--/wrapper-->
<div id="footer">
  <div id="footerContent">
    <div class="wrap12">
	    <div class="col4">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">Learn About The New LemonStand Cloud</span></li><li id="" class="level1"><a href="https://lemonstand.com" title="More information" class="title">More information</a></li><li id="" class="level1"><a href="https://lemonstand.com/showcase" title="LemonStand Showcase" class="title">LemonStand Showcase</a></li><li id="" class="level1"><a href="https://lemonstand.com/features" title="LS Cloud Features" class="title">LS Cloud Features</a></li><li id="" class="level1"><a href="https://lemonstand.com/pricing" title="LS Cloud Pricing" class="title">LS Cloud Pricing</a></li><li id="" class="level1"><a href="https://lemonstand.com/signup" title="LS Cloud Free Trial" class="title">LS Cloud Free Trial</a></li><li id="" class="level1"><a href="http://blog.lemonstand.com" title="eCommerce Blog" class="title">eCommerce Blog</a></li>			</ul>
	    </div>
	    <!--<div class="col2">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">About V1</span></li><li id="" class="level1"><a href="/gallery-oldurl" title="V1 Customer Gallery" class="title">V1 Customer Gallery</a></li><li id="" class="level1"><a href="/buy" title="Buy V1 License" class="title">Buy V1 License</a></li><li id="" class="level1"><a href="/freetrial" title="V1 Trial License" class="title">V1 Trial License</a></li>			</ul>
	    </div>-->
	    <div class="col2">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">V1 Community</span></li><li id="" class="level1"><a href="http://v1.lemonstand.com/marketplace" title="Marketplace" class="title">Marketplace</a><ul><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/category/modules/" title="V1 Modules" class="title">V1 Modules</a></li><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/category/themes/" title="V1 Themes" class="title">V1 Themes</a></li><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/ideas/all/" title="V1 Ideas" class="title">V1 Ideas</a></li></ul></li><li id="" class="level1"><a href="../partners.html" title="Partners" class="title">Partners</a></li><li id="" class="level1"><a href="http://forum.lemonstandapp.com/" title="Community Forums" class="title">Community Forums</a></li>			</ul>
	    </div>
	    <div class="col3">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">V1 Support</span></li><li id="" class="level1"><a href="../myaccount.html" title="My Account" class="title">My Account</a><ul><li id="" class="level2"><a href="http://v1.lemonstand.com/myaccount/tickets" title="V1 Support Tickets" class="title">V1 Support Tickets</a></li></ul></li><li id="" class="level1"><a href="../docs.html" title="Documentation" class="title">Documentation</a><ul><li id="" class="level2"><a href="ecommerce_guide.html" title="V1 Merchant's Guide" class="title">V1 Merchant's Guide</a></li><li id="" class="level2"><a href="developer_s_guide/index.html" title="V1 Developer's Guide" class="title">V1 Developer's Guide</a></li><li id="" class="level2"><a href="../api.html" title="V1 API Docs" class="title">V1 API Docs</a></li></ul></li>			</ul>
	    </div>
	    <!--<div class="col3 share">
	    	<div>
		    	<a href="https://twitter.com/lemonstand" class="twitter-follow-button" data-show-count="false">Follow @lemonstand</a>
		    	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	    	</div>
	    	
	    	<div>
	    		<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Ffacebook.com%2Flemonstand&amp;send=false&amp;layout=button_count&amp;width=200&amp;show_faces=false&amp;font=arial&amp;colorscheme=light&amp;action=like&amp;height=21&amp;appId=194533163908263" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90; height:21px;" allowTransparency="true"></iframe>
	    	</div>
	    	

	    	<div class="g-plusone" data-size="medium" data-href="http://lemonstand.com"></div>
	    	
	    	<div id="footer_newsletter">
	    		<h5>Get Email updates (It's Free)</h5>
	    		<form method="post" action="/" onsubmit="return subscribe_email(this, 'footer_newsletter', 'site:footer:newsletter')">
				    <input type="hidden" name="format" value="h" />
				    <input type="text" name="email" value="Email Address" id="optInEmail" class="formField" />
				    <input type="submit" value="Sign-Up" id="optInBtn" class="button small yellow" />
				    <p>We'll keep your email safe. Promise.</p>
			  </form>
  			</div>
	    </div>-->
    </div>
    <div class="col12 terms">
      <p>Copyright &copy; 2018 LemonStand eCommerce Inc. All Rights Reserved. <a href="../tos/index.html">Terms &amp; Conditions</a> | <a href="../privacy-policy/index.html">Privacy Policy</a></p>
    </div>
  </div><!--/footerContent-->
  <div style="clear: both; width: 960p;">&nbsp;</div>
</div><!--/footer-->



<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<!-- affiliate -->
<script type="text/javascript"><!--
document.write(unescape("%3Cscript id='pap_x2s6df8d' src='" + (("https:" == document.location.protocol) ? "https://" : "http://") + 
"affiliate.lemonstandapp.com/scripts/trackjs.js' type='text/javascript'%3E%3C/script%3E"));//-->
</script>
<script type="text/javascript"><!--
PostAffTracker.setAccountId('default1');
try {
PostAffTracker.track();
} catch (err) { }
//-->
</script>
<!-- /affiliate -->
<script type="text/javascript">
  // Track GA variables
  var _gaq = _gaq || [];
  
  _gaq.push(['_setCustomVar', 1, 'Visitor Type', 'Guest', 1]);
  _gaq.push(['_setCustomVar', 2, 'Partner', 'No', 1]);
  
  
  _gaq.push(['_setCustomVar', 4, 'Author', 'No', 1]);
</script>

<!--CrazyEgg-->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0000/6128.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
	<!--AdRoll-->
	<script type="text/javascript">
	adroll_adv_id = "QICDG4SA4BCD7BH2B4E4OA";
	adroll_pix_id = "BZOADVG5ZFG4XATGXBKRV7";
	(function () {
	var oldonload = window.onload;
	window.onload = function(){
	   __adroll_loaded=true;
	   var scr = document.createElement("script");
	   var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
	   scr.setAttribute('async', 'true');
	   scr.type = "text/javascript";
	   scr.src = host + "/j/roundtrip.js";
	   ((document.getElementsByTagName('head') || [null])[0] ||
	    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
	   if(oldonload){oldonload()}};
	}());
	</script>
	<!-- Pathful tracking -->
<script>
var PF_APPID = "3b5537e5529b89e5";
setTimeout(function(){ var d = document; 
s = d.createElement('script');
s.type = 'text/javascript'; s.async = true;
s.src = ("https:" == document.location.protocol) ? 
"https://ssl.pathful.com/js/scripts/secure.js"
: "http://s.pathful.com/js/scripts/capture.js";
document.body.appendChild(s, d);
}, 1);
</script>

</body>
 </html>