<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">    
<html xmlns="http://www.w3.org/1999/xhtml" class="mac">
<head>
    <title>LemonStand Version 1 - Creating a Module Settings Page</title>
  <link rel="shortcut icon" href="../favicon.ico" />
  <link href="http://feeds.feedburner.com/lemonstand" type="application/rss+xml" rel="alternate" title="LemonStand blog" />
  <link href="http://feeds.feedburner.com/LemonstandReleaseNotes" type="application/rss+xml" rel="alternate" title="LemonStand release notes" />

  <link rel="stylesheet" type="text/css" href="../ls_css_combine/index.html@file[]=%252Fresources%252Fcss%252Fgrid.css&amp;file[]=%252Fresources%252Fcss%252Fformsframework.css&amp;file[]=%252Fresources%252Fcss%252Fscreen.css&amp;file[]=%252Fresources%252Fcss%252Fjquery.fancybox.css&amp;file[]=%252Fresources%252.css"/>

  <script type="text/javascript" src="../ls_javascript_combine/index.html@file[]=%252Fresources%252Fjs%252Fjquery-1.7.1.min.js&amp;file[]=%252Fresources%252Fjs%252Ftwitter.js&amp;file[]=%252Fresources%252Fjs%252Fjquery.noconflict.js&amp;file[]=%252Fmodules%252Fcms%252Fresources%252Fjavascript%252Ff"></script>
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic|Playfair+Display:400,400italic' rel='stylesheet' type='text/css'>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Language" content="en"/>
  <meta name="keywords" content="" />
  <meta name="description" content="" />

  <meta property="fb:app_id" content="194533163908263"/>


   
  <link type="text/css" rel="stylesheet" href="../resources/shl/styles/shCore.css" />
  <link type="text/css" rel="stylesheet" href="../resources/shl/styles/shThemeRDark.css" />  
  <script type="text/javascript" src="../ls_javascript_combine/index.html@file[]=%252Fresources%252Fjs%252Fjquery-ui-1.8.11.custom.min.js&amp;file[]=%252Fresources%252Fshl%252Fscripts%252FshCore.js&amp;file[]=%252Fresources%252Fshl%252Fscripts%252FshBrushJScript.js&amp;file[]=%252Fresources%252Fs"></script>
  
  <script type="text/javascript">
    SyntaxHighlighter.config.clipboardSwf = '/resources/shl/scripts/clipboard.swf';
    SyntaxHighlighter.all();
    SyntaxHighlighter.defaults.gutter = false;
	SyntaxHighlighter.config.strings.expandSource = "Click to expand the code block";
        
    window.addEvent('domready', function() {
      var $ = jQuery;

      $(".thumbnailWrap a").fancybox({      
         'zoomSpeedIn': 300,
         'zoomSpeedOut': 300,
         'overlayShow': true,
         'titleShow'      : 'true',
         'overlayOpacity': .6
       });
       
       jQuery(".code-tabs").tabs();
    });
  </script>  
  <link rel="stylesheet" type="text/css" href="../resources/css/syntax_highlightier.css@1.css" />
  <link rel="stylesheet" type="text/css" href="../resources/css/wiki.css@1.css" />
  
</head>
<body id="b_help" class="mac">
  <div id="wrapper">
    <div id="headerWrapper">
	  	<div style="background:#333;color:#fff;text-align:center;padding:20px 0;">
	  		<p style="color:#eaeaea">This is the documentation for LemonStand V1, which has been discontinued. You can <a href="https://lemonstand.com/v1tocloud">learn more and upgrade your store here</a>.</p>
	  	</div>
       <div id="header">
      <a href="../index.html" id="headerLogo"><img src="../resources/i/lemonstand_logo.png" alt="LemonStand" /></a>      
      	<p id="contactUs"><span data-icon="&#xe04f;" aria-hidden="true"></span> <a href="tel://1-855-332-0555"><strong>1-855-332-0555</strong></a> &nbsp;&nbsp;&nbsp;<span data-icon="&#xe03e;" aria-hidden="true"> <a href="mailto:sales@lemonstand.com"><strong>sales@lemonstand.com</strong></a>&nbsp;&nbsp;&nbsp; 
      			<span data-icon="&#xe016;" aria-hidden="true"></span> <a id="myaccont_login" href="http://v1.lemonstand.com/myaccount/"><strong>Log In</strong></a>
			</p>

      <div id="navigation">
		<ul>
		<!-- <li class="dropdown"><span>Tour &#9662;</span>
			<ul>
				<li class="first"><a href="/tour/">Take a Tour</a></li>
				<li class="last"><a href="/features/customization/">Features</a></li>
			</ul>
		</li> -->
		<!--<li><a href="/features/">Features</a></li>
		<li><a href="/gallery/">Gallery</a></li>-->
		<li><a href="http://v1.lemonstand.com/marketplace/">Marketplace</a></li>
		<!--<li><a href="/buy/">Pricing</a></li>-->
		<li class="dropdown last"><span>Resources &#9662;</span>
			<ul>              
			  <li class="first"><a href="../docs.html">Documentation</a></li>
			  <li><a href="api_function_and_class_reference/index.html">API</a></li>
			  <li id="n_forum"><a href="http://forum.lemonstand.com">Forum</a></li>
			  <li><a href="http://v1.lemonstand.com/myaccount/tickets/">Technical Support</a></li>
			  <li><a href="http://forum.lemonstandapp.com/index.php?app=tracker&showproject=2">Issue Tracker</a></li>
			  <li><a href="http://v1.lemonstand.com/release-notes/">Release Notes</a></li>
			  <!--<li><a href="/faq/">FAQ</a></li>-->
			  <li class="last"><a href="http://blog.lemonstand.com">Blog</a></li>
			</ul>
		</li>
		<li class="dropdown"><span>Partners &#9662;</span>
			<ul>
				<li class="first"><a href="../partners.html">Certified Partners</a></li>
				<li class="last"><a href="../hire-developers/index.html">Hire a Freelancer</a></li>
			</ul>
		
		</li>
        </ul>
      </div><!--/navigation-->      
      
      	    </div><!--/header-->
    </div><!-- /headerWrapper -->    
    <!-- <div id="topContentWrapper">  
      <div id="topContent">
        <div id="topCol1">
          <h1>LemonStand <span>Documentation</span></h1>
        </div>
      </div>
    </div> -->
    <div id="contentWrapper">  
      <div id="content" class="clearfix">
        <div class="wrap12">
	        <form method="get" action="http://v1.lemonstand.com/docs_search">
        <div id="wiki_search">
          <input name="query" type="text" id="wiki_search_field"/>
          <input type="submit" id="btn-doc-search" class="awesome blue large" value="Search"/>
          <div class="wiki_clear"></div>
        </div>
      </form>
    </div>
  
          <div class="col12 wiki_page_content">
        <div class="wiki_breadcrumbs"><ul class="wiki_toc"><li><a href="front_page.html">LemonStand</a></li><li><a href="developer_guide.html">Developer Guide</a></li><li><a href="extending_lemonstand.html">Extending LemonStand</a></li><li class="last">Creating a Module Settings Page</li></ul></div>
        <div id="wiki-cta">
        	<h3>LemonStand Version 1 Has Been Discontinued</h1>
        	<p>This documentation is for LemonStand Version 1. LemonStand is now offered as a cloud-based eCommerce platform.<br> You can try the new LemonStand and <a href="https://lemonstand.com/v1tocloud">learn about upgrading here</a>.</p>
        </div>
        
        <h2>Creating a Module Settings Page</h2>
        
        <p>Modules can add any number of links to the System/Settings and My Settings pages.</p>
<p><img class="wiki_image_frame_padding" src="../resources/i/wiki/setting-links.png" alt="" /></p>
<p>There are two ways to add links to the Settings pages - by implementing&nbsp;<strong>listSettingsItems()</strong> and&nbsp;<strong>listPersonalSettingsItems()</strong> methods in the <a href="developing_a_simple_module.html">module information class</a>&nbsp;or by using the <strong>Settings API</strong>. First method is more universal and allows to create settings pages of any complexity. It requires writing controllers and views for settings pages. <strong>Settings API</strong> allows to create simple configuration forms based on the configuration which should be defined in the module information class and do not require developing controllers and views.</p>
<h3>How to choose between the usual approach and Settings API</h3>
<p>Settings API simplifies development but has the following limitations:</p>
<ul>
<li>Settings API creates links to settings forms. You cannot use settings API for creating a link to a list.&nbsp;</li>
<li>Automatically rendered relation fields (drop-down menus, checkbox or radio button lists based on relations) are not supported.</li>
<li>You cannot implement any custom AJAX requests on the settings form. Setting form can only be loaded, edited and saved. On the other hand, you can inject custom JavaScript scripts to the form page with the&nbsp;core:onConfigureModuleSettingsController event and implement simple effects like hiding/showing fields when some checkbox on the form is checked/unchecked.</li>
</ul>
<h3>Creating settings pages with the usual approach&nbsp;</h3>
<p>To create settings links on the System/Settings page or on the My Settings page your module information class should implement&nbsp;<strong>listSettingsItems()</strong>&nbsp;and&nbsp;<strong>listPersonalSettingsItems()</strong> methods. The both methods should return an array containing information about the the links. The array structure is identical for the both methods. It should be an array of arrays. Each inner array represents a single link. Example: <div class="codeblock"><pre class="brush:php; collapse: true">public function listSettingsItems()
{
	return array(
		array(
			'icon'=&gt;'/modules/system/resources/images/mail_settings.png', 
			'title'=&gt;'Email Settings', 
			'url'=&gt;'/system/email',
			'description'=&gt;'Configure email settings. Specify SMTP server address and authorization parameters. ',
			'sort_id'=&gt;20,
			'section'=&gt;'System'
			),
		array(
			'icon'=&gt;'/modules/system/resources/images/themes.png', 
			'title'=&gt;'Customize', 
			'url'=&gt;'/system/colortheme',
			'description'=&gt;'Choose color theme for the Administration Area, upload a company logo, etc.',
			'sort_id'=&gt;110,
			'section'=&gt;'System'
			)
	);
}</pre></div> Inner arrays should have the following elements:</p>
<ul>
<li><strong>icon</strong> - path to the icon file relative to the system root directory. Icons should be 48x48 px. PNG images.</li>
<li><strong>title</strong> - specifies the link title.</li>
<li><strong>url</strong> - URL of the page the link refers to, relative to the system root.</li>
<li><strong>description</strong> &nbsp;- specifies the link description text.</li>
<li><strong>sort_id</strong> - specifies the position of the link on the settings page. All system links have increment of 10.</li>
<li><strong>section</strong> - specifies a name of the settings page section to place the link to. This parameter is optional. If omitted, the link will be placed to the Miscellaneous section.&nbsp;</li>
</ul>
<p>For each settings link a controller should be implemented. Settings controllers should extend the&nbsp;<strong>Backend_SettingsController</strong>. Settings pages should have breadcrumbs referring to the Settings page: <div class="codeblock"><pre class="brush:php; collapse: true">&lt;!-- Breadcrumbs for personal settings --&gt;

&lt;ul class=&quot;breadcrumbs&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;&lt;?= url('/system/settings') ?&gt;&quot;&gt;My Settings&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;?= $this-&gt;app_page_title ?&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- Breadcrumbs for global settings --&gt;

&lt;ul class=&quot;breadcrumbs&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;&lt;?= url('/system/mysettings') ?&gt;&quot;&gt;Settings&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;?= $this-&gt;app_page_title ?&gt;&lt;/li&gt;
&lt;/ul&gt;
</pre></div> For storing settings parameters you can create a separate table or use the&nbsp;Core_Configuration_Model class as a base class for your settings model. Please see the&nbsp;Blog_Configuration class for example.</p>
<h3>Creating settings pages with the Settings API</h3>
<p>To use the Settings API your module information class should implement the following methods:</p>
<ul>
<li>listSettingsForms</li>
<li>buildSettingsForm</li>
<li>initSettingsData (optional)</li>
<li>validateSettingsData&nbsp;(optional)</li>
<li>getSettingsFieldOptions&nbsp;(optional)</li>
</ul>
<h4>listSettingsForms()</h4>
<p>This method should return a list of the module settings forms. A method should return an associative array of arrays, where where each inner array defines a settings link. Keys of the outer array define settings form codes. Example: <div class="codeblock"><pre class="brush:php; collapse: true">public function listSettingsForms()
{
	return array(
		'global-editor-settings'=&gt;array(
			'icon'=&gt;'/modules/mymodule/resources/images/global-settings.png', 
			'title'=&gt;'Global editor settings', 
			'description'=&gt;'Configure global code editor settings',
			'sort_id'=&gt;100,
			'section'=&gt;'Editor'
		),
		'personal-editor-settings'=&gt;array(
			'icon'=&gt;'/modules/mymodule/resources/images/personal-settings.png', 
			'title'=&gt;'My editor settings', 
			'description'=&gt;'Configure personal code editor settings',
			'sort_id'=&gt;100,
			'section'=&gt;'Editor',
			'personal'=&gt;true,
			'width_class'=&gt;'form-300'
		)
	);
}</pre></div> The format of the inner array is identical to the&nbsp;<strong>listSettingsItems()</strong> method result described above, but can have 2 extra optional elements:</p>
<ul>
<li>personal - indicates whether the link should be placed to the My Settings page. By default links are placed to the System/Settings page.</li>
<li>width_class -&nbsp;CSS class name defining the settings form width. Known class names are form-300, form-400, 450, form-500, form-650, form-700, form-750, form-800, form-850.</li>
</ul>
<h4>buildSettingsForm($model, $form_code)</h4>
<p>This method configures a settings form. The method has 2 parameters - the model object to add new fields to, and the form code. You can create new fields with calling the&nbsp;add_field() method of the model object. The method has 4 parameters - field code, field title, alignment class (left, right, full) and the value type (db_varchar, db_number, db_float, db_bool, db_datetime, db_date, db_time, db_text). The method returns the&nbsp;Db_FormFieldDefinition object, which you can configure (see <a href="administration_area_forms.html">Forms</a> article for details). Example: <div class="codeblock"><pre class="brush:php; collapse: false">public function buildSettingsForm($model, $form_code)
{
	$model-&gt;add_field('font_size', 'Font size', 'full', db_number)-&gt;renderAs(frm_dropdown);
	$model-&gt;add_field('soft_wrap', 'Soft word wrap', 'full', db_varchar);

	if ($form_code == 'personal-editor-settings')
		$model-&gt;add_field('editor_height', 'Edito height', 'full', db_number);
}</pre></div></p>
<h4>initSettingsData($model, $form_code)</h4>
<p>This method allows you to set default parameter values which should be applied in case if the configuration record does not exist in the database. The method has 2 parameters - the model to set the field values and form code. Example:&nbsp;<div class="codeblock"><pre class="brush:php; collapse: false">public function initSettingsData($model, $form_code)
{
	$model-&gt;font_size = 10;
	$model-&gt;soft_wrap = 1;

	if ($form_code == 'personal-editor-settings')
		$model-&gt;editor_height = 200;
}</pre></div></p>
<h4>validateSettingsData($model, $form_code)</h4>
<p>In this method you can validate parameter values before the record is saved to the database.&nbsp;&nbsp;The method has 2 parameters - the model to set the field values and form code.&nbsp;Use the model validation object&nbsp;to trigger validation errors.&nbsp;Example:&nbsp;<div class="codeblock"><pre class="brush:php; collapse: false">public function validateSettingsData($model, $form_code)
{
	if ($model-&gt;font_size &lt; 1)
		$model-&gt;validation-&gt;setError('Please specify a positive value in the Font Size field', 'font_size', true);
}</pre></div></p>
<h4>getSettingsFieldOptions($model, $form_code, $field_code)</h4>
<p>You should implement this method if you use drop-down menus, checkbox lists or radio button lists on your settings form. The method has 3 parameters -&nbsp;the model, the form code and the field code. Method should return an associative array of option values. Example:&nbsp;<div class="codeblock"><pre class="brush:php; collapse: false">public function getSettingsFieldOptions($model, $form_code, $field_code)
{
	if ($field_code == 'font_size')
		return array(
			'10'=&gt;'10pt', 
			'11'=&gt;'11pt',
			'12'=&gt;'12pt',
			'13'=&gt;'13pt',
	);
}</pre></div></p>
<h4>Accessing module settings</h4>
<p>Use the&nbsp;Core_ModuleSettings::create($module_id, $form_code) method to load module settings object. The method returns an object with all fields which you defined in the buildSettingsForm() method. Example:&nbsp;<div class="codeblock"><pre class="brush:php; collapse: false">$settings = Core_ModuleSettings::create('mymodule', 'personal-editor-settings');
$font_size = $settings-&gt;font_size;</pre></div></p>
<h4>Customizing the settings form page</h4>
<p>You can inject CSS and JavaScript files to the settings page by handling the&nbsp;core:onConfigureModuleSettingsController event. The event handler should have 2 parameters - the controller object and the form code. You can use addJavaScript() and addCss() methods of the controller object to add JavaScript and CSS files. Example:&nbsp;<div class="codeblock"><pre class="brush:php; collapse: false">public function subscribeEvents() 
{
	Backend::$events-&gt;add_event('core:onConfigureModuleSettingsController', $this, 'configure_settings_controller');
}

public function configure_settings_controller($controller, $form_code) 
{
	if ($form_code == 'personal-editor-settings')
		$controller-&gt;addJavaScript('/modules/mymodule/resources/javascript/personal-settings.js');
}</pre></div></p>
        
        <p><br/>Previous: <a href="authoring_for_lemonstand_marketplace.html">Authoring for LemonStand Marketplace</a><br/>Return to <a href="extending_lemonstand.html">Extending LemonStand</a></p>
        
              </div>
      
            <div class="wrap12 commentsWrap">
		<div id="thread"></div>
		<div id="disqus_thread"></div>
		<script type="text/javascript">
		var disqus_identifier = "wiki_page_403"; //[Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread]
		var disqus_url = "http://v1.lemonstand.com/docs/creating_module_settings_pages/";
		var disqus_title = "Creating a Module Settings Page";
		(function() {
		 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		 dsq.src = 'http://lemonstand.disqus.com/embed.js';
		 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=lemonstand">comments powered by Disqus.</a></noscript>

      </div><!--/commentsWrap-->
              
          </div><!--/content-->
    </div><!-- /contentWrapper -->
</div><!--/wrapper-->
<div id="footer">
  <div id="footerContent">
    <div class="wrap12">
	    <div class="col4">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">Learn About The New LemonStand Cloud</span></li><li id="" class="level1"><a href="https://lemonstand.com" title="More information" class="title">More information</a></li><li id="" class="level1"><a href="https://lemonstand.com/showcase" title="LemonStand Showcase" class="title">LemonStand Showcase</a></li><li id="" class="level1"><a href="https://lemonstand.com/features" title="LS Cloud Features" class="title">LS Cloud Features</a></li><li id="" class="level1"><a href="https://lemonstand.com/pricing" title="LS Cloud Pricing" class="title">LS Cloud Pricing</a></li><li id="" class="level1"><a href="https://lemonstand.com/signup" title="LS Cloud Free Trial" class="title">LS Cloud Free Trial</a></li><li id="" class="level1"><a href="http://blog.lemonstand.com" title="eCommerce Blog" class="title">eCommerce Blog</a></li>			</ul>
	    </div>
	    <!--<div class="col2">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">About V1</span></li><li id="" class="level1"><a href="/gallery-oldurl" title="V1 Customer Gallery" class="title">V1 Customer Gallery</a></li><li id="" class="level1"><a href="/buy" title="Buy V1 License" class="title">Buy V1 License</a></li><li id="" class="level1"><a href="/freetrial" title="V1 Trial License" class="title">V1 Trial License</a></li>			</ul>
	    </div>-->
	    <div class="col2">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">V1 Community</span></li><li id="" class="level1"><a href="http://v1.lemonstand.com/marketplace" title="Marketplace" class="title">Marketplace</a><ul><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/category/modules/" title="V1 Modules" class="title">V1 Modules</a></li><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/category/themes/" title="V1 Themes" class="title">V1 Themes</a></li><li id="" class="level2"><a href="http://v1.lemonstand.com/marketplace/ideas/all/" title="V1 Ideas" class="title">V1 Ideas</a></li></ul></li><li id="" class="level1"><a href="../partners.html" title="Partners" class="title">Partners</a></li><li id="" class="level1"><a href="http://forum.lemonstandapp.com/" title="Community Forums" class="title">Community Forums</a></li>			</ul>
	    </div>
	    <div class="col3">
	      	<ul>
			<li id="" class="menuHead level1"><span class="title">V1 Support</span></li><li id="" class="level1"><a href="../myaccount.html" title="My Account" class="title">My Account</a><ul><li id="" class="level2"><a href="http://v1.lemonstand.com/myaccount/tickets" title="V1 Support Tickets" class="title">V1 Support Tickets</a></li></ul></li><li id="" class="level1"><a href="../docs.html" title="Documentation" class="title">Documentation</a><ul><li id="" class="level2"><a href="ecommerce_guide.html" title="V1 Merchant's Guide" class="title">V1 Merchant's Guide</a></li><li id="" class="level2"><a href="developer_s_guide/index.html" title="V1 Developer's Guide" class="title">V1 Developer's Guide</a></li><li id="" class="level2"><a href="../api.html" title="V1 API Docs" class="title">V1 API Docs</a></li></ul></li>			</ul>
	    </div>
	    <!--<div class="col3 share">
	    	<div>
		    	<a href="https://twitter.com/lemonstand" class="twitter-follow-button" data-show-count="false">Follow @lemonstand</a>
		    	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	    	</div>
	    	
	    	<div>
	    		<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Ffacebook.com%2Flemonstand&amp;send=false&amp;layout=button_count&amp;width=200&amp;show_faces=false&amp;font=arial&amp;colorscheme=light&amp;action=like&amp;height=21&amp;appId=194533163908263" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90; height:21px;" allowTransparency="true"></iframe>
	    	</div>
	    	

	    	<div class="g-plusone" data-size="medium" data-href="http://lemonstand.com"></div>
	    	
	    	<div id="footer_newsletter">
	    		<h5>Get Email updates (It's Free)</h5>
	    		<form method="post" action="/" onsubmit="return subscribe_email(this, 'footer_newsletter', 'site:footer:newsletter')">
				    <input type="hidden" name="format" value="h" />
				    <input type="text" name="email" value="Email Address" id="optInEmail" class="formField" />
				    <input type="submit" value="Sign-Up" id="optInBtn" class="button small yellow" />
				    <p>We'll keep your email safe. Promise.</p>
			  </form>
  			</div>
	    </div>-->
    </div>
    <div class="col12 terms">
      <p>Copyright &copy; 2018 LemonStand eCommerce Inc. All Rights Reserved. <a href="../tos/index.html">Terms &amp; Conditions</a> | <a href="../privacy-policy/index.html">Privacy Policy</a></p>
    </div>
  </div><!--/footerContent-->
  <div style="clear: both; width: 960p;">&nbsp;</div>
</div><!--/footer-->



<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<!-- affiliate -->
<script type="text/javascript"><!--
document.write(unescape("%3Cscript id='pap_x2s6df8d' src='" + (("https:" == document.location.protocol) ? "https://" : "http://") + 
"affiliate.lemonstandapp.com/scripts/trackjs.js' type='text/javascript'%3E%3C/script%3E"));//-->
</script>
<script type="text/javascript"><!--
PostAffTracker.setAccountId('default1');
try {
PostAffTracker.track();
} catch (err) { }
//-->
</script>
<!-- /affiliate -->
<script type="text/javascript">
  // Track GA variables
  var _gaq = _gaq || [];
  
  _gaq.push(['_setCustomVar', 1, 'Visitor Type', 'Guest', 1]);
  _gaq.push(['_setCustomVar', 2, 'Partner', 'No', 1]);
  
  
  _gaq.push(['_setCustomVar', 4, 'Author', 'No', 1]);
</script>

<!--CrazyEgg-->
<script type="text/javascript">
setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0000/6128.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
</script>
	<!--AdRoll-->
	<script type="text/javascript">
	adroll_adv_id = "QICDG4SA4BCD7BH2B4E4OA";
	adroll_pix_id = "BZOADVG5ZFG4XATGXBKRV7";
	(function () {
	var oldonload = window.onload;
	window.onload = function(){
	   __adroll_loaded=true;
	   var scr = document.createElement("script");
	   var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
	   scr.setAttribute('async', 'true');
	   scr.type = "text/javascript";
	   scr.src = host + "/j/roundtrip.js";
	   ((document.getElementsByTagName('head') || [null])[0] ||
	    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
	   if(oldonload){oldonload()}};
	}());
	</script>
	<!-- Pathful tracking -->
<script>
var PF_APPID = "3b5537e5529b89e5";
setTimeout(function(){ var d = document; 
s = d.createElement('script');
s.type = 'text/javascript'; s.async = true;
s.src = ("https:" == document.location.protocol) ? 
"https://ssl.pathful.com/js/scripts/secure.js"
: "http://s.pathful.com/js/scripts/capture.js";
document.body.appendChild(s, d);
}, 1);
</script>

</body>
 </html>